diff --git a/client/src/api/configTemplates.ts b/client/src/api/configTemplates.ts
index 248ea2b4b934..ec987c7eb3a7 100644
--- a/client/src/api/configTemplates.ts
+++ b/client/src/api/configTemplates.ts
@@ -19,6 +19,11 @@ export type SecretData = CreateInstancePayload["secrets"];
 export type PluginAspectStatus = components["schemas"]["PluginAspectStatus"];
 export type PluginStatus = components["schemas"]["PluginStatus"];
 
+export type UpgradeInstancePayload = components["schemas"]["UpgradeInstancePayload"];
+export type TestUpgradeInstancePayload = components["schemas"]["TestUpgradeInstancePayload"];
+export type UpdateInstancePayload = components["schemas"]["UpdateInstancePayload"];
+export type TestUpdateInstancePayload = components["schemas"]["TestUpdateInstancePayload"];
+
 export interface TemplateSummary {
     description: string | null;
     hidden?: boolean;
diff --git a/client/src/api/objectStores.ts b/client/src/api/objectStores.ts
index 55b9a30d39a2..376d75d8e54a 100644
--- a/client/src/api/objectStores.ts
+++ b/client/src/api/objectStores.ts
@@ -23,8 +23,8 @@ export async function getObjectStoreDetails(id: string) {
     if (id.startsWith("user_objects://")) {
         const userObjectStoreId = id.substring("user_objects://".length);
 
-        const { data, error } = await GalaxyApi().GET("/api/object_store_instances/{user_object_store_id}", {
-            params: { path: { user_object_store_id: userObjectStoreId } },
+        const { data, error } = await GalaxyApi().GET("/api/object_store_instances/{uuid}", {
+            params: { path: { uuid: userObjectStoreId } },
         });
 
         if (error) {
diff --git a/client/src/api/schema/schema.ts b/client/src/api/schema/schema.ts
index be56f1ba7b3e..a8ddacee9b22 100644
--- a/client/src/api/schema/schema.ts
+++ b/client/src/api/schema/schema.ts
@@ -906,7 +906,7 @@ export interface paths {
         patch?: never;
         trace?: never;
     };
-    "/api/file_source_instances/{user_file_source_id}": {
+    "/api/file_source_instances/{uuid}": {
         parameters: {
             query?: never;
             header?: never;
@@ -925,6 +925,24 @@ export interface paths {
         patch?: never;
         trace?: never;
     };
+    "/api/file_source_instances/{uuid}/test": {
+        parameters: {
+            query?: never;
+            header?: never;
+            path?: never;
+            cookie?: never;
+        };
+        /** Test a file source instance and return status. */
+        get: operations["file_sources__instances_test_instance"];
+        put?: never;
+        /** Test updating or upgrading user file source instance. */
+        post: operations["file_sources__test_instances_update"];
+        delete?: never;
+        options?: never;
+        head?: never;
+        patch?: never;
+        trace?: never;
+    };
     "/api/file_source_templates": {
         parameters: {
             query?: never;
@@ -942,6 +960,23 @@ export interface paths {
         patch?: never;
         trace?: never;
     };
+    "/api/file_source_templates/{template_id}/{template_version}/oauth2": {
+        parameters: {
+            query?: never;
+            header?: never;
+            path?: never;
+            cookie?: never;
+        };
+        /** Template Oauth2 */
+        get: operations["file_sources__template_oauth2"];
+        put?: never;
+        post?: never;
+        delete?: never;
+        options?: never;
+        head?: never;
+        patch?: never;
+        trace?: never;
+    };
     "/api/folders/{folder_id}/contents": {
         parameters: {
             query?: never;
@@ -3344,7 +3379,7 @@ export interface paths {
         patch?: never;
         trace?: never;
     };
-    "/api/object_store_instances/{user_object_store_id}": {
+    "/api/object_store_instances/{uuid}": {
         parameters: {
             query?: never;
             header?: never;
@@ -3363,6 +3398,24 @@ export interface paths {
         patch?: never;
         trace?: never;
     };
+    "/api/object_store_instances/{uuid}/test": {
+        parameters: {
+            query?: never;
+            header?: never;
+            path?: never;
+            cookie?: never;
+        };
+        /** Get a persisted user object store instance. */
+        get: operations["object_stores__instances_test_instance"];
+        put?: never;
+        /** Test updating or upgrading user object source instance. */
+        post: operations["object_stores__test_instances_update"];
+        delete?: never;
+        options?: never;
+        head?: never;
+        patch?: never;
+        trace?: never;
+    };
     "/api/object_store_templates": {
         parameters: {
             query?: never;
@@ -5647,6 +5700,23 @@ export interface paths {
         patch?: never;
         trace?: never;
     };
+    "/oauth2_callback": {
+        parameters: {
+            query?: never;
+            header?: never;
+            path?: never;
+            cookie?: never;
+        };
+        /** Callback entry point for remote resource responses with OAuth2 authorization codes */
+        get: operations["oauth2_callback_oauth2_callback_get"];
+        put?: never;
+        post?: never;
+        delete?: never;
+        options?: never;
+        head?: never;
+        patch?: never;
+        trace?: never;
+    };
 }
 export type webhooks = Record<string, never>;
 export interface components {
@@ -6818,6 +6888,8 @@ export interface components {
             template_id: string;
             /** Template Version */
             template_version: number;
+            /** Uuid */
+            uuid?: string | null;
             /** Variables */
             variables: {
                 [key: string]: string | boolean | number;
@@ -9035,7 +9107,7 @@ export interface components {
              * Type
              * @enum {string}
              */
-            type: "ftp" | "posix" | "s3fs" | "azure" | "onedata" | "webdav";
+            type: "ftp" | "posix" | "s3fs" | "azure" | "onedata" | "webdav" | "dropbox" | "googledrive";
             /** Variables */
             variables?:
                 | (
@@ -14442,6 +14514,11 @@ export interface components {
              */
             updated_count: number;
         };
+        /** OAuth2Info */
+        OAuth2Info: {
+            /** Authorize Url */
+            authorize_url: string;
+        };
         /** ObjectExportTaskResponse */
         ObjectExportTaskResponse: {
             /**
@@ -14981,6 +15058,7 @@ export interface components {
         /** PluginStatus */
         PluginStatus: {
             connection?: components["schemas"]["PluginAspectStatus"] | null;
+            oauth2_access_token_generation?: components["schemas"]["PluginAspectStatus"] | null;
             template_definition: components["schemas"]["PluginAspectStatus"];
             template_settings?: components["schemas"]["PluginAspectStatus"] | null;
         };
@@ -16515,6 +16593,26 @@ export interface components {
              */
             type: "string";
         };
+        /** TestUpdateInstancePayload */
+        TestUpdateInstancePayload: {
+            /** Variables */
+            variables?: {
+                [key: string]: string | boolean | number;
+            } | null;
+        };
+        /** TestUpgradeInstancePayload */
+        TestUpgradeInstancePayload: {
+            /** Secrets */
+            secrets: {
+                [key: string]: string;
+            };
+            /** Template Version */
+            template_version: number;
+            /** Variables */
+            variables: {
+                [key: string]: string | boolean | number;
+            };
+        };
         /** ToolDataDetails */
         ToolDataDetails: {
             /**
@@ -17366,7 +17464,7 @@ export interface components {
              * Type
              * @enum {string}
              */
-            type: "ftp" | "posix" | "s3fs" | "azure" | "onedata" | "webdav";
+            type: "ftp" | "posix" | "s3fs" | "azure" | "onedata" | "webdav" | "dropbox" | "googledrive";
             /** Uri Root */
             uri_root: string;
             /**
@@ -20744,7 +20842,7 @@ export interface operations {
             };
             path: {
                 /** @description The UUID index for a persisted UserFileSourceStore object. */
-                user_file_source_id: string;
+                uuid: string;
             };
             cookie?: never;
         };
@@ -20788,7 +20886,7 @@ export interface operations {
             };
             path: {
                 /** @description The UUID index for a persisted UserFileSourceStore object. */
-                user_file_source_id: string;
+                uuid: string;
             };
             cookie?: never;
         };
@@ -20839,7 +20937,7 @@ export interface operations {
             };
             path: {
                 /** @description The UUID index for a persisted UserFileSourceStore object. */
-                user_file_source_id: string;
+                uuid: string;
             };
             cookie?: never;
         };
@@ -20872,6 +20970,100 @@ export interface operations {
             };
         };
     };
+    file_sources__instances_test_instance: {
+        parameters: {
+            query?: never;
+            header?: {
+                /** @description The user ID that will be used to effectively make this API call. Only admins and designated users can make API calls on behalf of other users. */
+                "run-as"?: string | null;
+            };
+            path: {
+                /** @description The UUID index for a persisted UserFileSourceStore object. */
+                uuid: string;
+            };
+            cookie?: never;
+        };
+        requestBody?: never;
+        responses: {
+            /** @description Successful Response */
+            200: {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["PluginStatus"];
+                };
+            };
+            /** @description Request Error */
+            "4XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+            /** @description Server Error */
+            "5XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+        };
+    };
+    file_sources__test_instances_update: {
+        parameters: {
+            query?: never;
+            header?: {
+                /** @description The user ID that will be used to effectively make this API call. Only admins and designated users can make API calls on behalf of other users. */
+                "run-as"?: string | null;
+            };
+            path: {
+                /** @description The UUID index for a persisted UserFileSourceStore object. */
+                uuid: string;
+            };
+            cookie?: never;
+        };
+        requestBody: {
+            content: {
+                "application/json":
+                    | components["schemas"]["TestUpgradeInstancePayload"]
+                    | components["schemas"]["TestUpdateInstancePayload"];
+            };
+        };
+        responses: {
+            /** @description Successful Response */
+            200: {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["PluginStatus"];
+                };
+            };
+            /** @description Request Error */
+            "4XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+            /** @description Server Error */
+            "5XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+        };
+    };
     file_sources__templates_index: {
         parameters: {
             query?: never;
@@ -20913,6 +21105,52 @@ export interface operations {
             };
         };
     };
+    file_sources__template_oauth2: {
+        parameters: {
+            query?: never;
+            header?: {
+                /** @description The user ID that will be used to effectively make this API call. Only admins and designated users can make API calls on behalf of other users. */
+                "run-as"?: string | null;
+            };
+            path: {
+                /** @description The template ID of the target file source template. */
+                template_id: string;
+                /** @description The template version of the target file source template. */
+                template_version: number;
+            };
+            cookie?: never;
+        };
+        requestBody?: never;
+        responses: {
+            /** @description OAuth2 authorization url to redirect user to prior to creation. */
+            200: {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["OAuth2Info"];
+                };
+            };
+            /** @description Request Error */
+            "4XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+            /** @description Server Error */
+            "5XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+        };
+    };
     index_api_folders__folder_id__contents_get: {
         parameters: {
             query?: {
@@ -29314,7 +29552,7 @@ export interface operations {
             };
             path: {
                 /** @description The UUID used to identify a persisted UserObjectStore object. */
-                user_object_store_id: string;
+                uuid: string;
             };
             cookie?: never;
         };
@@ -29358,7 +29596,7 @@ export interface operations {
             };
             path: {
                 /** @description The UUID used to identify a persisted UserObjectStore object. */
-                user_object_store_id: string;
+                uuid: string;
             };
             cookie?: never;
         };
@@ -29409,7 +29647,7 @@ export interface operations {
             };
             path: {
                 /** @description The UUID used to identify a persisted UserObjectStore object. */
-                user_object_store_id: string;
+                uuid: string;
             };
             cookie?: never;
         };
@@ -29442,6 +29680,100 @@ export interface operations {
             };
         };
     };
+    object_stores__instances_test_instance: {
+        parameters: {
+            query?: never;
+            header?: {
+                /** @description The user ID that will be used to effectively make this API call. Only admins and designated users can make API calls on behalf of other users. */
+                "run-as"?: string | null;
+            };
+            path: {
+                /** @description The UUID used to identify a persisted UserObjectStore object. */
+                uuid: string;
+            };
+            cookie?: never;
+        };
+        requestBody?: never;
+        responses: {
+            /** @description Successful Response */
+            200: {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["PluginStatus"];
+                };
+            };
+            /** @description Request Error */
+            "4XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+            /** @description Server Error */
+            "5XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+        };
+    };
+    object_stores__test_instances_update: {
+        parameters: {
+            query?: never;
+            header?: {
+                /** @description The user ID that will be used to effectively make this API call. Only admins and designated users can make API calls on behalf of other users. */
+                "run-as"?: string | null;
+            };
+            path: {
+                /** @description The UUID used to identify a persisted UserObjectStore object. */
+                uuid: string;
+            };
+            cookie?: never;
+        };
+        requestBody: {
+            content: {
+                "application/json":
+                    | components["schemas"]["TestUpgradeInstancePayload"]
+                    | components["schemas"]["TestUpdateInstancePayload"];
+            };
+        };
+        responses: {
+            /** @description Successful Response */
+            200: {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["PluginStatus"];
+                };
+            };
+            /** @description Request Error */
+            "4XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+            /** @description Server Error */
+            "5XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+        };
+    };
     object_stores__templates_index: {
         parameters: {
             query?: never;
@@ -36459,4 +36791,50 @@ export interface operations {
             };
         };
     };
+    oauth2_callback_oauth2_callback_get: {
+        parameters: {
+            query: {
+                /** @description Base-64 encoded JSON used to route request within Galaxy. */
+                state: string;
+                code?: string | null;
+                error?: string | null;
+            };
+            header?: {
+                /** @description The user ID that will be used to effectively make this API call. Only admins and designated users can make API calls on behalf of other users. */
+                "run-as"?: string | null;
+            };
+            path?: never;
+            cookie?: never;
+        };
+        requestBody?: never;
+        responses: {
+            /** @description Successful Response */
+            200: {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": unknown;
+                };
+            };
+            /** @description Request Error */
+            "4XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+            /** @description Server Error */
+            "5XX": {
+                headers: {
+                    [name: string]: unknown;
+                };
+                content: {
+                    "application/json": components["schemas"]["MessageExceptionModel"];
+                };
+            };
+        };
+    };
 }
diff --git a/client/src/components/ConfigTemplates/ActionSummary.vue b/client/src/components/ConfigTemplates/ActionSummary.vue
new file mode 100644
index 000000000000..6e4652a584fe
--- /dev/null
+++ b/client/src/components/ConfigTemplates/ActionSummary.vue
@@ -0,0 +1,29 @@
+<script lang="ts" setup>
+import { BAlert, BButton } from "bootstrap-vue";
+import { ref } from "vue";
+
+import type { PluginStatus } from "@/api/configTemplates";
+
+import ConfigurationTestSummaryModal from "@/components/ConfigTemplates/ConfigurationTestSummaryModal.vue";
+
+interface Props {
+    error: String | null;
+    testResults?: PluginStatus;
+    errorDataDescription: string;
+}
+
+const showTestResults = ref(false);
+defineProps<Props>();
+</script>
+
+<template>
+    <div>
+        <ConfigurationTestSummaryModal v-model="showTestResults" :test-results="testResults" />
+        <BAlert v-if="error" variant="danger" class="configuration-instance-error" show>
+            <span :data-description="errorDataDescription">
+                {{ error }}
+            </span>
+            <BButton variant="link" @click="showTestResults = true">View configuration test status.</BButton>
+        </BAlert>
+    </div>
+</template>
diff --git a/client/src/components/ConfigTemplates/ConfigurationTestItem.vue b/client/src/components/ConfigTemplates/ConfigurationTestItem.vue
new file mode 100644
index 000000000000..91cea8421f0e
--- /dev/null
+++ b/client/src/components/ConfigTemplates/ConfigurationTestItem.vue
@@ -0,0 +1,26 @@
+<script lang="ts" setup>
+import { faCheckSquare, faSquare, faTimes } from "@fortawesome/free-solid-svg-icons";
+import { FontAwesomeIcon } from "@fortawesome/vue-fontawesome";
+import { BListGroupItem, BSpinner } from "bootstrap-vue";
+
+import type { PluginAspectStatus } from "@/api/configTemplates";
+
+interface Props {
+    status?: PluginAspectStatus;
+}
+
+defineProps<Props>();
+</script>
+
+<template>
+    <BListGroupItem href="#" class="d-flex align-items-center">
+        <BSpinner v-if="status == undefined" class="mr-3" label="Testing...."></BSpinner>
+        <FontAwesomeIcon v-else-if="status?.state == 'ok'" class="mr-3 text-success" :icon="faCheckSquare" size="lg" />
+        <FontAwesomeIcon v-else-if="status?.state == 'not_ok'" class="mr-3 text-warning" :icon="faTimes" size="lg" />
+        <FontAwesomeIcon v-else-if="status?.state == 'unknown'" class="mr-3 text-info" :icon="faSquare" size="lg" />
+
+        <span v-if="status && status.message" class="mr-auto">
+            {{ status.message }}
+        </span>
+    </BListGroupItem>
+</template>
diff --git a/client/src/components/ConfigTemplates/ConfigurationTestSummary.vue b/client/src/components/ConfigTemplates/ConfigurationTestSummary.vue
new file mode 100644
index 000000000000..b781c6eae665
--- /dev/null
+++ b/client/src/components/ConfigTemplates/ConfigurationTestSummary.vue
@@ -0,0 +1,24 @@
+<script lang="ts" setup>
+import { BListGroup } from "bootstrap-vue";
+
+import type { PluginStatus } from "@/api/configTemplates";
+
+import ConfigurationTestItem from "./ConfigurationTestItem.vue";
+
+interface Props {
+    testResults?: PluginStatus;
+}
+
+defineProps<Props>();
+</script>
+
+<template>
+    <BListGroup v-if="testResults">
+        <ConfigurationTestItem :status="testResults?.template_definition" />
+        <ConfigurationTestItem
+            v-if="testResults?.oauth2_access_token_generation != null"
+            :status="testResults?.oauth2_access_token_generation" />
+        <ConfigurationTestItem :status="testResults?.template_settings" />
+        <ConfigurationTestItem :status="testResults?.connection" />
+    </BListGroup>
+</template>
diff --git a/client/src/components/ConfigTemplates/ConfigurationTestSummaryModal.vue b/client/src/components/ConfigTemplates/ConfigurationTestSummaryModal.vue
new file mode 100644
index 000000000000..22fa8a8b4736
--- /dev/null
+++ b/client/src/components/ConfigTemplates/ConfigurationTestSummaryModal.vue
@@ -0,0 +1,39 @@
+<script lang="ts" setup>
+import { BAlert, BModal } from "bootstrap-vue";
+import { ref, watch } from "vue";
+
+import type { PluginStatus } from "@/api/configTemplates";
+
+import ConfigurationTestSummary from "./ConfigurationTestSummary.vue";
+
+interface Props {
+    value: boolean;
+    testResults?: PluginStatus;
+    error?: string;
+}
+
+const props = defineProps<Props>();
+
+const show = ref(props.value);
+
+watch(props, () => {
+    show.value = props.value;
+});
+
+const emit = defineEmits<{
+    (e: "input", value: boolean): void;
+}>();
+
+watch(show, () => {
+    emit("input", show.value);
+});
+</script>
+
+<template>
+    <BModal v-model="show" title="Configuration Test Summary" hide-footer>
+        <BAlert v-if="error" variant="danger" show dismissible>
+            {{ error || "" }}
+        </BAlert>
+        <ConfigurationTestSummary :test-results="testResults" />
+    </BModal>
+</template>
diff --git a/client/src/components/ConfigTemplates/ForceActionButton.vue b/client/src/components/ConfigTemplates/ForceActionButton.vue
new file mode 100644
index 000000000000..55d42274f388
--- /dev/null
+++ b/client/src/components/ConfigTemplates/ForceActionButton.vue
@@ -0,0 +1,17 @@
+<script setup lang="ts">
+import { BButton } from "bootstrap-vue";
+
+interface Props {
+    action: string;
+}
+
+defineProps<Props>();
+
+const emit = defineEmits<{
+    (e: "click"): void;
+}>();
+</script>
+
+<template>
+    <BButton variant="link" @click="emit('click')">I know what I am doing, force {{ action.toLowerCase() }}.</BButton>
+</template>
diff --git a/client/src/components/ConfigTemplates/InstanceDropdown.test.ts b/client/src/components/ConfigTemplates/InstanceDropdown.test.ts
index e29d8d883113..abfca1e3070a 100644
--- a/client/src/components/ConfigTemplates/InstanceDropdown.test.ts
+++ b/client/src/components/ConfigTemplates/InstanceDropdown.test.ts
@@ -19,7 +19,7 @@ describe("InstanceDropdown", () => {
         });
         const menu = wrapper.find(".dropdown-menu");
         const links = menu.findAll("button.dropdown-item");
-        expect(links.length).toBe(2);
+        expect(links.length).toBe(3);
     });
 
     it("should render a drop down with upgrade if upgrade available as an option", async () => {
@@ -35,6 +35,6 @@ describe("InstanceDropdown", () => {
         });
         const menu = wrapper.find(".dropdown-menu");
         const links = menu.findAll("button.dropdown-item");
-        expect(links.length).toBe(3);
+        expect(links.length).toBe(4);
     });
 });
diff --git a/client/src/components/ConfigTemplates/InstanceDropdown.vue b/client/src/components/ConfigTemplates/InstanceDropdown.vue
index 95bbbf863cb8..0f891a64033e 100644
--- a/client/src/components/ConfigTemplates/InstanceDropdown.vue
+++ b/client/src/components/ConfigTemplates/InstanceDropdown.vue
@@ -1,6 +1,5 @@
 <script setup lang="ts">
-import { library } from "@fortawesome/fontawesome-svg-core";
-import { faArrowUp, faCaretDown, faEdit, faTrash } from "@fortawesome/free-solid-svg-icons";
+import { faArrowUp, faCaretDown, faEdit, faStethoscope, faTrash } from "@fortawesome/free-solid-svg-icons";
 import { FontAwesomeIcon } from "@fortawesome/vue-fontawesome";
 import { useRouter } from "vue-router/composables";
 
@@ -12,14 +11,13 @@ interface Props {
     isUpgradable: boolean;
 }
 
-library.add(faArrowUp, faCaretDown, faEdit, faTrash);
-
 const router = useRouter();
 
 defineProps<Props>();
 
 const emit = defineEmits<{
     (e: "remove"): void;
+    (e: "test"): void;
 }>();
 </script>
 
@@ -32,7 +30,7 @@ const emit = defineEmits<{
             aria-haspopup="true"
             aria-expanded="false"
             class="ui-link font-weight-bold text-nowrap">
-            <FontAwesomeIcon icon="caret-down" class="fa-lg" />
+            <FontAwesomeIcon :icon="faCaretDown" size="lg" />
             <span class="instance-dropdown-name font-weight-bold">{{ name }}</span>
         </button>
         <div class="dropdown-menu" :aria-labelledby="`${prefix}-instance-dropdown`">
@@ -50,11 +48,15 @@ const emit = defineEmits<{
                 :href="routeEdit"
                 @keypress="router.push(routeEdit)"
                 @click.prevent="router.push(routeEdit)">
-                <FontAwesomeIcon icon="edit" />
+                <FontAwesomeIcon :icon="faEdit" />
                 <span v-localize>Edit configuration</span>
             </button>
+            <button class="dropdown-item" @keypress="emit('test')" @click.prevent="emit('test')">
+                <FontAwesomeIcon :icon="faStethoscope" />
+                <span v-localize>Test instance</span>
+            </button>
             <button class="dropdown-item" @keypress="emit('remove')" @click.prevent="emit('remove')">
-                <FontAwesomeIcon icon="trash" />
+                <FontAwesomeIcon :icon="faTrash" />
                 <span v-localize>Remove instance</span>
             </button>
         </div>
diff --git a/client/src/components/ConfigTemplates/InstanceForm.vue b/client/src/components/ConfigTemplates/InstanceForm.vue
index 129870128228..530cb0b95f75 100644
--- a/client/src/components/ConfigTemplates/InstanceForm.vue
+++ b/client/src/components/ConfigTemplates/InstanceForm.vue
@@ -3,6 +3,7 @@ import { BButton } from "bootstrap-vue";
 
 import { type FormEntry } from "./formUtil";
 
+import ForceActionButton from "./ForceActionButton.vue";
 import FormCard from "@/components/Form/FormCard.vue";
 import FormDisplay from "@/components/Form/FormDisplay.vue";
 import LoadingSpan from "@/components/LoadingSpan.vue";
@@ -12,14 +13,18 @@ interface Props {
     inputs?: Array<FormEntry>; // not fully reactive so make sure to not mutate this array
     submitTitle: string;
     loadingMessage: string;
+    busy: boolean;
+    showForceActionButton?: boolean;
 }
 
 withDefaults(defineProps<Props>(), {
     inputs: undefined,
+    showForceActionButton: false,
 });
 
 const emit = defineEmits<{
     (e: "onSubmit", formData: any): void;
+    (e: "onForceSubmit", formData: any): void;
 }>();
 
 let formData: any;
@@ -31,6 +36,10 @@ function onChange(incoming: any) {
 async function handleSubmit() {
     emit("onSubmit", formData);
 }
+
+async function handleForceSubmit() {
+    emit("onForceSubmit", formData);
+}
 </script>
 <template>
     <div>
@@ -42,9 +51,11 @@ async function handleSubmit() {
                 </template>
             </FormCard>
             <div class="mt-3">
-                <BButton id="submit" variant="primary" class="mr-1" @click="handleSubmit">
+                <BButton id="submit" variant="primary" class="mr-1" :disabled="busy" @click="handleSubmit">
                     {{ submitTitle }}
                 </BButton>
+                <ForceActionButton v-show="showForceActionButton" :action="submitTitle" @click="handleForceSubmit">
+                </ForceActionButton>
             </div>
         </div>
     </div>
diff --git a/client/src/components/ConfigTemplates/routing.ts b/client/src/components/ConfigTemplates/routing.ts
new file mode 100644
index 000000000000..d8b63d60ca8d
--- /dev/null
+++ b/client/src/components/ConfigTemplates/routing.ts
@@ -0,0 +1,18 @@
+import { useRouter } from "vue-router/composables";
+
+export function buildInstanceRoutingComposable(index: string) {
+    return () => {
+        const router = useRouter();
+
+        async function goToIndex(query: Record<"message", string>) {
+            router.push({
+                path: index,
+                query: query,
+            });
+        }
+
+        return {
+            goToIndex,
+        };
+    };
+}
diff --git a/client/src/components/ConfigTemplates/test_fixtures.ts b/client/src/components/ConfigTemplates/test_fixtures.ts
index d3a8f867c0c4..8e5b967318c1 100644
--- a/client/src/components/ConfigTemplates/test_fixtures.ts
+++ b/client/src/components/ConfigTemplates/test_fixtures.ts
@@ -1,3 +1,4 @@
+import { type PluginStatus } from "@/api/configTemplates";
 import { type FileSourceTemplateSummary } from "@/api/fileSources";
 import { type UserConcreteObjectStore } from "@/components/ObjectStore/Instances/types";
 import { type ObjectStoreTemplateSummary } from "@/components/ObjectStore/Templates/types";
@@ -134,3 +135,18 @@ export const OBJECT_STORE_INSTANCE: UserConcreteObjectStore = {
     hidden: false,
     purged: false,
 };
+
+export const OK_PLUGIN_STATUS: PluginStatus = {
+    template_definition: {
+        state: "ok",
+        message: "ok",
+    },
+    template_settings: {
+        state: "ok",
+        message: "ok",
+    },
+    connection: {
+        state: "ok",
+        message: "ok",
+    },
+};
diff --git a/client/src/components/ConfigTemplates/useConfigurationTesting.ts b/client/src/components/ConfigTemplates/useConfigurationTesting.ts
new file mode 100644
index 000000000000..26ec1389cf8e
--- /dev/null
+++ b/client/src/components/ConfigTemplates/useConfigurationTesting.ts
@@ -0,0 +1,387 @@
+import { computed, type Ref, ref } from "vue";
+
+import { GalaxyApi } from "@/api";
+import { type Instance, type PluginStatus, type TemplateSummary } from "@/api/configTemplates";
+import { type buildInstanceRoutingComposable } from "@/components/ConfigTemplates/routing";
+import { errorMessageAsString } from "@/utils/simple-error";
+
+import {
+    createFormDataToPayload,
+    createTemplateForm,
+    editFormDataToPayload,
+    editTemplateForm,
+    type FormEntry,
+    pluginStatusToErrorMessage,
+    upgradeForm,
+    upgradeFormDataToPayload,
+} from "./formUtil";
+
+import ActionSummary from "./ActionSummary.vue";
+import ConfigurationTestSummaryModal from "@/components/ConfigTemplates/ConfigurationTestSummaryModal.vue";
+import InstanceForm from "@/components/ConfigTemplates/InstanceForm.vue";
+
+type InstanceRoutingComposableType = ReturnType<typeof buildInstanceRoutingComposable>;
+
+export function useConfigurationTesting() {
+    const testRunning = ref<boolean>(false);
+    const testResults = ref<PluginStatus | undefined>(undefined);
+
+    return {
+        testRunning,
+        testResults,
+    };
+}
+
+type CreateTestUrl = "/api/object_store_instances/test" | "/api/file_source_instances/test";
+type CreateUrl = "/api/object_store_instances" | "/api/file_source_instances";
+
+export function useConfigurationTemplateCreation<T extends TemplateSummary, R>(
+    what: string,
+    template: Ref<T>,
+    uuid: Ref<string | undefined>,
+    testUrl: CreateTestUrl,
+    createUrl: CreateUrl,
+    onCreate: (result: R) => unknown
+) {
+    const error = ref<string | null>(null);
+    const { testRunning, testResults } = useConfigurationTesting();
+
+    async function onSubmit(formData: any) {
+        const payload = createFormDataToPayload(template.value, formData);
+        if (uuid.value) {
+            payload.uuid = uuid.value;
+        }
+        let pluginStatus: PluginStatus;
+        try {
+            testRunning.value = true;
+            const { data, error: testRequestError } = await GalaxyApi().POST(testUrl, {
+                body: payload,
+            });
+            if (testRequestError) {
+                error.value = "Failed to verify configuration: " + errorMessageAsString(testRequestError);
+                return;
+            } else {
+                pluginStatus = data;
+                testResults.value = pluginStatus;
+            }
+        } catch (e) {
+            error.value = "Failed to verify configuration: " + errorMessageAsString(e);
+            return;
+        } finally {
+            testRunning.value = false;
+        }
+        if (pluginStatus) {
+            const testError = pluginStatusToErrorMessage(pluginStatus);
+            if (testError) {
+                error.value = testError;
+                return;
+            }
+        }
+        try {
+            const { data: userObject, error: createRequestError } = await GalaxyApi().POST(createUrl, {
+                body: payload,
+            });
+            if (createRequestError) {
+                error.value = errorMessageAsString(createRequestError);
+            } else {
+                onCreate(userObject as R);
+            }
+        } catch (e) {
+            error.value = errorMessageAsString(e);
+            return;
+        }
+    }
+
+    const inputs = computed<FormEntry[]>(() => {
+        return createTemplateForm(template.value, what);
+    });
+
+    const submitTitle = "Create";
+    const loadingMessage = `Loading ${what} template and instance information`;
+
+    return {
+        ActionSummary,
+        error,
+        inputs,
+        InstanceForm,
+        onSubmit,
+        submitTitle,
+        loadingMessage,
+        testRunning,
+        testResults,
+    };
+}
+
+type TestInstanceUrl = "/api/file_source_instances/{uuid}/test" | "/api/object_store_instances/{uuid}/test";
+
+export function useInstanceTesting<R extends Instance>(testUrl: TestInstanceUrl) {
+    const showTestResults = ref(false);
+    const testResults = ref<PluginStatus | undefined>(undefined);
+    const testingError = ref<string | undefined>(undefined);
+
+    async function test(instance: R) {
+        testResults.value = undefined;
+        testingError.value = undefined;
+        showTestResults.value = true;
+        try {
+            const { data, error } = await GalaxyApi().GET(testUrl, {
+                params: { path: { uuid: instance.uuid } },
+            });
+            const pluginStatus = data;
+            const testRequestError = error;
+            if (testRequestError) {
+                testingError.value = errorMessageAsString(testRequestError);
+            } else {
+                testResults.value = pluginStatus;
+            }
+        } catch (e) {
+            testingError.value = errorMessageAsString(e);
+        }
+    }
+
+    return {
+        ConfigurationTestSummaryModal,
+        showTestResults,
+        testResults,
+        testingError,
+        test,
+    };
+}
+
+type TestUpdateUrl = "/api/object_store_instances/{uuid}/test" | "/api/file_source_instances/{uuid}/test";
+type UpdateUrl = "/api/object_store_instances/{uuid}" | "/api/file_source_instances/{uuid}";
+
+export function useConfigurationTemplateEdit<T extends TemplateSummary, R extends Instance>(
+    what: string,
+    instance: Ref<R | null>,
+    template: Ref<T | null>,
+    testUpdateUrl: TestUpdateUrl,
+    updateUrl: UpdateUrl,
+    useRouting: InstanceRoutingComposableType
+) {
+    const { testRunning, testResults } = useConfigurationTesting();
+    const showForceActionButton = ref<boolean>(false);
+
+    const { goToIndex } = useRouting();
+
+    async function onUpdate(objectStore: R) {
+        const message = `Updated ${what} ${objectStore.name}`;
+        goToIndex({ message });
+    }
+
+    const inputs = computed<Array<FormEntry> | undefined>(() => {
+        const realizedInstance = instance.value;
+        const realizedTemplate = template.value;
+        if (!realizedInstance || !realizedTemplate) {
+            return undefined;
+        }
+        return editTemplateForm(realizedTemplate, what, realizedInstance);
+    });
+
+    const error = ref<string | null>(null);
+    const hasSecrets = computed(() => instance.value?.secrets && instance.value?.secrets.length > 0);
+    const submitTitle = "Update Settings";
+    const loadingMessage = `Loading ${what} template and instance information`;
+
+    async function onSubmit(formData: any) {
+        if (template.value && instance.value) {
+            const payload = editFormDataToPayload(template.value, formData);
+
+            let pluginStatus;
+            try {
+                testRunning.value = true;
+                showForceActionButton.value = false;
+                const { data: pluginStatus, error: testRequestError } = await GalaxyApi().POST(testUpdateUrl, {
+                    params: { path: { uuid: instance.value.uuid } },
+                    body: payload,
+                });
+                if (testRequestError) {
+                    error.value = errorMessageAsString(testRequestError);
+                    showForceActionButton.value = true;
+                }
+                testResults.value = pluginStatus;
+            } catch (e) {
+                error.value = errorMessageAsString(e);
+                showForceActionButton.value = true;
+                return;
+            } finally {
+                testRunning.value = false;
+            }
+            if (pluginStatus) {
+                const testError = pluginStatusToErrorMessage(pluginStatus);
+                if (testError) {
+                    error.value = testError;
+                    showForceActionButton.value = true;
+                    return;
+                }
+            }
+
+            try {
+                const { data, error: updateRequestError } = await GalaxyApi().PUT(updateUrl, {
+                    params: { path: { uuid: instance.value.uuid } },
+                    body: payload,
+                });
+                if (updateRequestError) {
+                    error.value = errorMessageAsString(updateRequestError);
+                } else {
+                    await onUpdate(data as R);
+                }
+            } catch (e) {
+                error.value = errorMessageAsString(e);
+                return;
+            }
+        }
+    }
+
+    async function onForceSubmit(formData: any) {
+        if (template.value && instance.value) {
+            const payload = editFormDataToPayload(template.value, formData);
+            try {
+                const { data, error: updateRequestError } = await GalaxyApi().PUT(updateUrl, {
+                    params: { path: { uuid: instance.value.uuid } },
+                    body: payload,
+                });
+                if (updateRequestError) {
+                    error.value = errorMessageAsString(updateRequestError);
+                } else {
+                    await onUpdate(data as R);
+                }
+            } catch (e) {
+                error.value = errorMessageAsString(e);
+                return;
+            }
+        }
+    }
+
+    return {
+        error,
+        ActionSummary,
+        inputs,
+        InstanceForm,
+        hasSecrets,
+        loadingMessage,
+        onForceSubmit,
+        onSubmit,
+        showForceActionButton,
+        submitTitle,
+        testResults,
+        testRunning,
+    };
+}
+
+export function useConfigurationTemplateUpgrade<T extends TemplateSummary, R extends Instance>(
+    what: string,
+    instance: Ref<R>,
+    template: Ref<T>,
+    testUpdateUrl: TestUpdateUrl,
+    updateUrl: UpdateUrl,
+    useRouting: InstanceRoutingComposableType
+) {
+    const { goToIndex } = useRouting();
+
+    async function onUpgrade(objectStore: R) {
+        const message = `Upgraded ${what} ${objectStore.name}`;
+        goToIndex({ message });
+    }
+
+    const error = ref<string | null>(null);
+    const { testRunning, testResults } = useConfigurationTesting();
+    const showForceActionButton = ref<boolean>(false);
+
+    const submitTitle = "Upgrade Configuration";
+    const loadingMessage = `Loading latest ${what} template and instance information`;
+
+    const inputs = computed<Array<FormEntry> | undefined>(() => {
+        const realizedInstance = instance.value;
+        const realizedLatestTemplate = template.value;
+        if (!realizedInstance || !realizedLatestTemplate) {
+            return undefined;
+        }
+        const form = upgradeForm(realizedLatestTemplate, realizedInstance);
+        return form;
+    });
+
+    async function onSubmit(formData: any) {
+        if (!instance.value || !template.value) {
+            return;
+        }
+
+        const payload = upgradeFormDataToPayload(template.value, formData);
+        let pluginStatus;
+        try {
+            testRunning.value = true;
+            showForceActionButton.value = false;
+            const { data: pluginStatus, error: testRequestError } = await GalaxyApi().POST(testUpdateUrl, {
+                params: { path: { uuid: instance.value.uuid } },
+                body: payload,
+            });
+            if (testRequestError) {
+                error.value = errorMessageAsString(testRequestError);
+                showForceActionButton.value = true;
+                return;
+            } else {
+                testResults.value = pluginStatus;
+            }
+        } catch (e) {
+            showForceActionButton.value = true;
+            error.value = errorMessageAsString(e);
+            return;
+        } finally {
+            testRunning.value = false;
+        }
+        if (pluginStatus) {
+            const testError = pluginStatusToErrorMessage(pluginStatus);
+            if (testError) {
+                error.value = testError;
+                showForceActionButton.value = true;
+                return;
+            }
+        }
+        try {
+            const { data, error: updateRequestError } = await GalaxyApi().PUT(updateUrl, {
+                params: { path: { uuid: instance.value.uuid } },
+                body: payload,
+            });
+            if (updateRequestError) {
+                error.value = errorMessageAsString(updateRequestError);
+            } else {
+                await onUpgrade(data as R);
+            }
+        } catch (e) {
+            error.value = errorMessageAsString(e);
+            return;
+        }
+    }
+
+    async function onForceSubmit(formData: any) {
+        const payload = upgradeFormDataToPayload(template.value, formData);
+        try {
+            const { data, error: updateRequestError } = await GalaxyApi().PUT(updateUrl, {
+                params: { path: { uuid: instance.value.uuid } },
+                body: payload,
+            });
+            if (updateRequestError) {
+                error.value = errorMessageAsString(updateRequestError);
+            } else {
+                await onUpgrade(data as R);
+            }
+        } catch (e) {
+            error.value = errorMessageAsString(e);
+            return;
+        }
+    }
+
+    return {
+        error,
+        ActionSummary,
+        inputs,
+        InstanceForm,
+        loadingMessage,
+        onForceSubmit,
+        onSubmit,
+        submitTitle,
+        showForceActionButton,
+        testResults,
+        testRunning,
+    };
+}
diff --git a/client/src/components/FileSources/FileSourceTypeSpan.vue b/client/src/components/FileSources/FileSourceTypeSpan.vue
index d98cdce9d622..890649e4cf86 100644
--- a/client/src/components/FileSources/FileSourceTypeSpan.vue
+++ b/client/src/components/FileSources/FileSourceTypeSpan.vue
@@ -4,12 +4,14 @@ import { computed } from "vue";
 import type { FileSourceTypes } from "@/api/fileSources";
 
 const MESSAGES = {
-    posix: "This is a simple path based storage location that assumes the all the relevant paths are already mounted on the Galaxy server and target worker nodes.",
-    s3fs: "This is an remote file source plugin based on the Amazon Simple Storage Service (S3) interface. The AWS interface has become an industry standard and many storage vendors support it and use it to expose 'object' based storage.",
-    azure: "This is an remote file source plugin based on the Azure service.",
-    onedata: "This is an remote file source plugin based on the Onedata service.",
-    ftp: "This is an remote file source plugin based on the FTP protocol.",
-    webdav: "This is an remote file source plugin based on the WebDAV protocol.",
+    posix: "This is a simple path based file source that assumes the all the relevant paths are already mounted on the Galaxy server and target worker nodes.",
+    s3fs: "This is a remote file source plugin based on the Amazon Simple Storage Service (S3) interface. The AWS interface has become an industry standard and many storage vendors support it and use it to expose 'object' based storage.",
+    azure: "This is a remote file source plugin based on the Azure service.",
+    onedata: "This is a remote file source plugin based on the Onedata service.",
+    ftp: "This is a remote file source plugin based on the FTP protocol.",
+    webdav: "This is a remote file source plugin based on the WebDAV protocol.",
+    dropbox: "This is a file source plugin that connects with the commercial Dropbox service.",
+    googledrive: "This is a file source plugin that connects with the commercial Google Drive service.",
 };
 
 interface Props {
diff --git a/client/src/components/FileSources/Instances/CreateForm.vue b/client/src/components/FileSources/Instances/CreateForm.vue
index c9e712af60e0..0fb8eb433583 100644
--- a/client/src/components/FileSources/Instances/CreateForm.vue
+++ b/client/src/components/FileSources/Instances/CreateForm.vue
@@ -1,73 +1,42 @@
 <script lang="ts" setup>
-import { BAlert } from "bootstrap-vue";
-import { computed, ref } from "vue";
+import { computed, toRef } from "vue";
 
-import { GalaxyApi } from "@/api";
 import type { FileSourceTemplateSummary, UserFileSourceModel } from "@/api/fileSources";
-import {
-    createFormDataToPayload,
-    createTemplateForm,
-    pluginStatusToErrorMessage,
-} from "@/components/ConfigTemplates/formUtil";
-import { errorMessageAsString, rethrowSimple } from "@/utils/simple-error";
+import { useConfigurationTemplateCreation } from "@/components/ConfigTemplates/useConfigurationTesting";
 
-import InstanceForm from "@/components/ConfigTemplates/InstanceForm.vue";
+const createUrl = "/api/file_source_instances";
+const createTestUrl = "/api/file_source_instances/test";
 
 interface CreateFormProps {
     template: FileSourceTemplateSummary;
+    uuid?: string;
 }
-const error = ref<string | null>(null);
 const props = defineProps<CreateFormProps>();
-const title = "Create a new file source for your data";
-const submitTitle = "Submit";
-const loadingMessage = "Loading file source template and instance information";
-
-const inputs = computed(() => {
-    return createTemplateForm(props.template, "file source");
-});
-
-async function onSubmit(formData: any) {
-    const payload = createFormDataToPayload(props.template, formData);
-    const { data: pluginStatus, error: testRequestError } = await GalaxyApi().POST("/api/file_source_instances/test", {
-        body: payload,
-    });
-
-    if (testRequestError) {
-        rethrowSimple(testRequestError);
-    }
-
-    const testError = pluginStatusToErrorMessage(pluginStatus);
-    if (testError) {
-        error.value = testError;
-        return;
-    }
-
-    const { data: fileSource, error: requestError } = await GalaxyApi().POST("/api/file_source_instances", {
-        body: payload,
-    });
-
-    if (requestError) {
-        error.value = errorMessageAsString(requestError);
-        return;
-    }
-
-    emit("created", fileSource);
-}
+const title = computed(() => `Create a ${props.template.name} File Source`);
 
 const emit = defineEmits<{
     (e: "created", fileSource: UserFileSourceModel): void;
 }>();
+
+const { ActionSummary, error, inputs, InstanceForm, onSubmit, submitTitle, loadingMessage, testRunning, testResults } =
+    useConfigurationTemplateCreation(
+        "file source",
+        toRef(props, "template"),
+        toRef(props, "uuid"),
+        createTestUrl,
+        createUrl,
+        (fileSource: UserFileSourceModel) => emit("created", fileSource)
+    );
 </script>
 <template>
     <div id="create-file-source-landing">
-        <BAlert v-if="error" variant="danger" class="file-source-instance-creation-error" show>
-            {{ error }}
-        </BAlert>
+        <ActionSummary error-data-description="file-source-creation-error" :test-results="testResults" :error="error" />
         <InstanceForm
             :inputs="inputs"
             :title="title"
             :submit-title="submitTitle"
             :loading-message="loadingMessage"
+            :busy="testRunning"
             @onSubmit="onSubmit" />
     </div>
 </template>
diff --git a/client/src/components/FileSources/Instances/CreateInstance.vue b/client/src/components/FileSources/Instances/CreateInstance.vue
index 9b93e2d7c269..ed6def6c2f86 100644
--- a/client/src/components/FileSources/Instances/CreateInstance.vue
+++ b/client/src/components/FileSources/Instances/CreateInstance.vue
@@ -1,8 +1,11 @@
 <script setup lang="ts">
-import { computed } from "vue";
+import { BAlert } from "bootstrap-vue";
+import { computed, ref, watch } from "vue";
 
+import { GalaxyApi } from "@/api";
 import type { UserFileSourceModel } from "@/api/fileSources";
 import { useFileSourceTemplatesStore } from "@/stores/fileSourceTemplatesStore";
+import { errorMessageAsString } from "@/utils/simple-error";
 
 import { useInstanceRouting } from "./routing";
 
@@ -11,24 +14,80 @@ import LoadingSpan from "@/components/LoadingSpan.vue";
 
 interface Props {
     templateId: string;
+    uuid?: string;
 }
+
+const OAUTH2_TYPES = ["dropbox", "googledrive"];
+
 const fileSourceTemplatesStore = useFileSourceTemplatesStore();
 fileSourceTemplatesStore.fetchTemplates();
 
 const { goToIndex } = useInstanceRouting();
 
 const props = defineProps<Props>();
+
+const loading = ref(false);
+const errorMessage = ref("");
+
 const template = computed(() => fileSourceTemplatesStore.getLatestTemplate(props.templateId));
+const redirectMessage = computed(
+    () =>
+        `You will redirected to ${template.value?.name} to authorize Galaxy to access this resource remotely. Please wait`
+);
+const requiresOAuth2AuthorizeRedirect = computed(() => {
+    const templateValue = template.value;
+    return props.uuid == undefined && templateValue && OAUTH2_TYPES.indexOf(templateValue.type) >= 0;
+});
 
-async function onCreated(objectStore: UserFileSourceModel) {
+function onCreated(objectStore: UserFileSourceModel) {
     const message = `Created file source ${objectStore.name}`;
+
     goToIndex({ message });
 }
+
+watch(
+    requiresOAuth2AuthorizeRedirect,
+    async (requiresAuth) => {
+        const templateValue = template.value;
+
+        if (templateValue && requiresAuth) {
+            loading.value = true;
+
+            const { data, error: testRequestError } = await GalaxyApi().GET(
+                "/api/file_source_templates/{template_id}/{template_version}/oauth2",
+                {
+                    params: {
+                        path: {
+                            template_id: templateValue.id,
+                            template_version: templateValue.version || 0,
+                        },
+                    },
+                }
+            );
+
+            if (testRequestError) {
+                errorMessage.value = errorMessageAsString(testRequestError, "Error getting OAuth2 URL");
+
+                loading.value = false;
+            } else {
+                window.location.href = data.authorize_url;
+            }
+        }
+    },
+    { immediate: true }
+);
 </script>
 
 <template>
     <div>
-        <LoadingSpan v-if="!template" message="Loading file source templates" />
-        <CreateForm v-else :template="template" @created="onCreated"></CreateForm>
+        <BAlert v-if="loading" show variant="info">
+            <LoadingSpan v-if="!template" message="Loading file source templates" />
+            <LoadingSpan v-else-if="requiresOAuth2AuthorizeRedirect && !errorMessage" :message="redirectMessage" />
+        </BAlert>
+
+        <BAlert v-if="errorMessage" show variant="danger">
+            {{ errorMessage }}
+        </BAlert>
+        <CreateForm v-if="!loading && template" :uuid="uuid" :template="template" @created="onCreated" />
     </div>
 </template>
diff --git a/client/src/components/FileSources/Instances/EditInstance.vue b/client/src/components/FileSources/Instances/EditInstance.vue
index 16069ffe58da..01469088fd16 100644
--- a/client/src/components/FileSources/Instances/EditInstance.vue
+++ b/client/src/components/FileSources/Instances/EditInstance.vue
@@ -2,16 +2,15 @@
 import { BTab, BTabs } from "bootstrap-vue";
 import { computed, ref } from "vue";
 
-import { GalaxyApi } from "@/api";
-import type { UserFileSourceModel } from "@/api/fileSources";
-import { editFormDataToPayload, editTemplateForm, type FormEntry } from "@/components/ConfigTemplates/formUtil";
-import { rethrowSimple } from "@/utils/simple-error";
+import { useConfigurationTemplateEdit } from "@/components/ConfigTemplates/useConfigurationTesting";
 
 import { useInstanceAndTemplate } from "./instance";
 import { useInstanceRouting } from "./routing";
 
 import EditSecrets from "./EditSecrets.vue";
-import InstanceForm from "@/components/ConfigTemplates/InstanceForm.vue";
+
+const editTestUrl = "/api/file_source_instances/{uuid}/test";
+const editUrl = "/api/file_source_instances/{uuid}";
 
 interface Props {
     instanceId: string;
@@ -20,52 +19,40 @@ interface Props {
 const props = defineProps<Props>();
 const { instance, template } = useInstanceAndTemplate(ref(props.instanceId));
 
-const inputs = computed<Array<FormEntry> | undefined>(() => {
-    if (template.value && instance.value) {
-        return editTemplateForm(template.value, "storage location", instance.value);
-    }
-    return undefined;
-});
-
-const title = computed(() => `Edit File Source ${instance.value?.name} Settings`);
-const hasSecrets = computed(() => instance.value?.secrets && instance.value?.secrets.length > 0);
-const submitTitle = "Update Settings";
-const loadingMessage = "Loading file source template and instance information";
-
-async function onSubmit(formData: any) {
-    if (template.value && instance.value) {
-        const payload = editFormDataToPayload(template.value, formData);
-        const user_file_source_id = instance.value.uuid;
-
-        const { data: fileSource, error } = await GalaxyApi().PUT("/api/file_source_instances/{user_file_source_id}", {
-            params: { path: { user_file_source_id } },
-            body: payload,
-        });
-
-        if (error) {
-            rethrowSimple(error);
-        }
+const title = computed(() => `Edit ${template.value?.name} settings for ${instance.value?.name}`);
+const errorDataDescription = "file-source-update-error";
 
-        await onUpdate(fileSource);
-    }
-}
-
-const { goToIndex } = useInstanceRouting();
-
-async function onUpdate(instance: UserFileSourceModel) {
-    const message = `Updated file source ${instance.name}`;
-    goToIndex({ message });
-}
+const {
+    error,
+    hasSecrets,
+    ActionSummary,
+    inputs,
+    InstanceForm,
+    loadingMessage,
+    onForceSubmit,
+    onSubmit,
+    testRunning,
+    testResults,
+    submitTitle,
+    showForceActionButton,
+} = useConfigurationTemplateEdit("file source", instance, template, editTestUrl, editUrl, useInstanceRouting);
 </script>
 <template>
     <div>
         <BTabs v-if="hasSecrets">
             <BTab title="Settings" active>
+                <ActionSummary
+                    :error-data-description="errorDataDescription"
+                    :test-results="testResults"
+                    :error="error" />
                 <InstanceForm
                     :inputs="inputs"
                     :title="title"
                     :submit-title="submitTitle"
                     :loading-message="loadingMessage"
+                    :busy="testRunning"
+                    :show-force-action-button="showForceActionButton"
+                    @onForceSubmit="onForceSubmit"
                     @onSubmit="onSubmit" />
             </BTab>
             <BTab title="Secrets">
@@ -74,12 +61,17 @@ async function onUpdate(instance: UserFileSourceModel) {
                 </div>
             </BTab>
         </BTabs>
-        <InstanceForm
-            v-else
-            :inputs="inputs"
-            :title="title"
-            :submit-title="submitTitle"
-            :loading-message="loadingMessage"
-            @onSubmit="onSubmit" />
+        <div v-else>
+            <ActionSummary :error-data-description="errorDataDescription" :test-results="testResults" :error="error" />
+            <InstanceForm
+                :inputs="inputs"
+                :title="title"
+                :submit-title="submitTitle"
+                :loading-message="loadingMessage"
+                :busy="testRunning"
+                :show-force-action-button="showForceActionButton"
+                @onForceSubmit="onForceSubmit"
+                @onSubmit="onSubmit" />
+        </div>
     </div>
 </template>
diff --git a/client/src/components/FileSources/Instances/EditSecrets.vue b/client/src/components/FileSources/Instances/EditSecrets.vue
index 6ae4b88b3240..1a3346f401ac 100644
--- a/client/src/components/FileSources/Instances/EditSecrets.vue
+++ b/client/src/components/FileSources/Instances/EditSecrets.vue
@@ -15,8 +15,8 @@ const props = defineProps<Props>();
 const title = computed(() => `Update File Source ${props.fileSource?.name} Secrets`);
 
 async function onUpdate(secretName: string, secretValue: string) {
-    const { error } = await GalaxyApi().PUT("/api/file_source_instances/{user_file_source_id}", {
-        params: { path: { user_file_source_id: props.fileSource.uuid } },
+    const { error } = await GalaxyApi().PUT("/api/file_source_instances/{uuid}", {
+        params: { path: { uuid: props.fileSource.uuid } },
         body: {
             secret_name: secretName,
             secret_value: secretValue,
diff --git a/client/src/components/FileSources/Instances/InstanceDropdown.vue b/client/src/components/FileSources/Instances/InstanceDropdown.vue
index 1bd11d78af6d..0dd02f396aa4 100644
--- a/client/src/components/FileSources/Instances/InstanceDropdown.vue
+++ b/client/src/components/FileSources/Instances/InstanceDropdown.vue
@@ -22,8 +22,8 @@ const isUpgradable = computed(() =>
 );
 
 async function onRemove() {
-    const { error } = await GalaxyApi().PUT("/api/file_source_instances/{user_file_source_id}", {
-        params: { path: { user_file_source_id: props.fileSource.uuid } },
+    const { error } = await GalaxyApi().PUT("/api/file_source_instances/{uuid}", {
+        params: { path: { uuid: props.fileSource.uuid } },
         body: {
             hidden: true,
         },
@@ -38,6 +38,7 @@ async function onRemove() {
 
 const emit = defineEmits<{
     (e: "entryRemoved"): void;
+    (e: "test"): void;
 }>();
 </script>
 
@@ -48,5 +49,6 @@ const emit = defineEmits<{
         :is-upgradable="isUpgradable"
         :route-upgrade="routeUpgrade"
         :route-edit="routeEdit"
+        @test="emit('test')"
         @remove="onRemove" />
 </template>
diff --git a/client/src/components/FileSources/Instances/ManageIndex.vue b/client/src/components/FileSources/Instances/ManageIndex.vue
index 784e0b84a685..1ecc522d0aca 100644
--- a/client/src/components/FileSources/Instances/ManageIndex.vue
+++ b/client/src/components/FileSources/Instances/ManageIndex.vue
@@ -3,6 +3,7 @@ import { BTable } from "bootstrap-vue";
 import { computed } from "vue";
 
 import { DESCRIPTION_FIELD, NAME_FIELD, TEMPLATE_FIELD, TYPE_FIELD } from "@/components/ConfigTemplates/fields";
+import { useInstanceTesting } from "@/components/ConfigTemplates/useConfigurationTesting";
 import { useFiltering } from "@/components/ConfigTemplates/useInstanceFiltering";
 import { useFileSourceInstancesStore } from "@/stores/fileSourceInstancesStore";
 
@@ -30,10 +31,16 @@ fileSourceInstancesStore.fetchInstances();
 function reload() {
     fileSourceInstancesStore.fetchInstances();
 }
+
+const testInstanceUrl = "/api/file_source_instances/{uuid}/test";
+
+const { ConfigurationTestSummaryModal, showTestResults, testResults, test, testingError } =
+    useInstanceTesting(testInstanceUrl);
 </script>
 
 <template>
     <div>
+        <ConfigurationTestSummaryModal v-model="showTestResults" :error="testingError" :test-results="testResults" />
         <ManageIndexHeader
             :message="message"
             create-button-id="file-source-create"
@@ -58,7 +65,7 @@ function reload() {
                 </b-alert>
             </template>
             <template v-slot:cell(name)="row">
-                <InstanceDropdown :file-source="row.item" @entryRemoved="reload" />
+                <InstanceDropdown :file-source="row.item" @entryRemoved="reload" @test="test(row.item)" />
             </template>
             <template v-slot:cell(type)="row">
                 <FileSourceTypeSpan :type="row.item.type" />
diff --git a/client/src/components/FileSources/Instances/UpgradeForm.vue b/client/src/components/FileSources/Instances/UpgradeForm.vue
index af8faa0a0c2b..a33205c13f69 100644
--- a/client/src/components/FileSources/Instances/UpgradeForm.vue
+++ b/client/src/components/FileSources/Instances/UpgradeForm.vue
@@ -1,70 +1,55 @@
 <script setup lang="ts">
-import { BAlert } from "bootstrap-vue";
-import { computed, ref } from "vue";
+import { computed, toRef } from "vue";
 
-import { GalaxyApi } from "@/api";
-import type { FileSourceTemplateSummary, UserFileSourceModel } from "@/api/fileSources";
-import { type FormEntry, upgradeForm, upgradeFormDataToPayload } from "@/components/ConfigTemplates/formUtil";
-import { errorMessageAsString } from "@/utils/simple-error";
+import { type FileSourceTemplateSummary, type UserFileSourceModel } from "@/api/fileSources";
+import { useConfigurationTemplateUpgrade } from "@/components/ConfigTemplates/useConfigurationTesting";
 
 import { useInstanceRouting } from "./routing";
 
-import InstanceForm from "@/components/ConfigTemplates/InstanceForm.vue";
+const editTestUrl = "/api/file_source_instances/{uuid}/test";
+const editUrl = "/api/file_source_instances/{uuid}";
 
 interface Props {
     instance: UserFileSourceModel;
     latestTemplate: FileSourceTemplateSummary;
 }
 
-const error = ref<string | null>(null);
 const props = defineProps<Props>();
 
-const inputs = computed<Array<FormEntry> | undefined>(() => {
-    const realizedInstance: UserFileSourceModel = props.instance;
-    const realizedLatestTemplate = props.latestTemplate;
-    const form = upgradeForm(realizedLatestTemplate, realizedInstance);
-    return form;
-});
 const title = computed(() => `Upgrade File Source ${props.instance.name}`);
-const submitTitle = "Update Settings";
-const loadingMessage = "Loading file source template and instance information";
 
-async function onSubmit(formData: any) {
-    const payload = upgradeFormDataToPayload(props.latestTemplate, formData);
-
-    const { data: fileSource, error: requestError } = await GalaxyApi().PUT(
-        "/api/file_source_instances/{user_file_source_id}",
-        {
-            params: { path: { user_file_source_id: props.instance.uuid } },
-            body: payload,
-        }
-    );
-
-    if (requestError) {
-        error.value = errorMessageAsString(requestError);
-        return;
-    }
-
-    await onUpgrade(fileSource);
-}
-
-const { goToIndex } = useInstanceRouting();
-
-async function onUpgrade(fileSource: UserFileSourceModel) {
-    const message = `Upgraded file source ${fileSource.name}`;
-    goToIndex({ message });
-}
+const {
+    error,
+    ActionSummary,
+    inputs,
+    InstanceForm,
+    loadingMessage,
+    onForceSubmit,
+    onSubmit,
+    testRunning,
+    testResults,
+    showForceActionButton,
+    submitTitle,
+} = useConfigurationTemplateUpgrade(
+    "file source",
+    toRef(props, "instance"),
+    toRef(props, "latestTemplate"),
+    editTestUrl,
+    editUrl,
+    useInstanceRouting
+);
 </script>
 <template>
     <div>
-        <BAlert v-if="error" variant="danger" class="file-source-instance-upgrade-error" show>
-            {{ error }}
-        </BAlert>
+        <ActionSummary error-data-description="file-source-upgrade-error" :test-results="testResults" :error="error" />
         <InstanceForm
             :inputs="inputs"
             :title="title"
             :submit-title="submitTitle"
             :loading-message="loadingMessage"
+            :busy="testRunning"
+            :show-force-action-button="showForceActionButton"
+            @onForceSubmit="onForceSubmit"
             @onSubmit="onSubmit" />
     </div>
 </template>
diff --git a/client/src/components/FileSources/Instances/routing.ts b/client/src/components/FileSources/Instances/routing.ts
index 6d2ed12bae6e..d2053263a750 100644
--- a/client/src/components/FileSources/Instances/routing.ts
+++ b/client/src/components/FileSources/Instances/routing.ts
@@ -1,16 +1,3 @@
-import { useRouter } from "vue-router/composables";
+import { buildInstanceRoutingComposable } from "@/components/ConfigTemplates/routing";
 
-export function useInstanceRouting() {
-    const router = useRouter();
-
-    async function goToIndex(query: Record<"message", string>) {
-        router.push({
-            path: "/file_source_instances/index",
-            query: query,
-        });
-    }
-
-    return {
-        goToIndex,
-    };
-}
+export const useInstanceRouting = buildInstanceRoutingComposable("/file_source_instances/index");
diff --git a/client/src/components/FileSources/Instances/services.ts b/client/src/components/FileSources/Instances/services.ts
new file mode 100644
index 000000000000..01ab0d744154
--- /dev/null
+++ b/client/src/components/FileSources/Instances/services.ts
@@ -0,0 +1,15 @@
+import { GalaxyApi } from "@/api";
+import type { UserFileSourceModel } from "@/api/fileSources";
+
+const updateUrl = "/api/file_source_instances/{uuid}";
+
+export async function hide(instance: UserFileSourceModel) {
+    const payload = { hidden: true };
+    const { data: fileSource } = await GalaxyApi().PUT(updateUrl, {
+        params: {
+            path: { uuid: String(instance?.uuid) },
+        },
+        body: payload,
+    });
+    return fileSource;
+}
diff --git a/client/src/components/FileSources/Templates/CreateUserFileSource.vue b/client/src/components/FileSources/Templates/CreateUserFileSource.vue
index 5cc4a9f8e3aa..af85f683434e 100644
--- a/client/src/components/FileSources/Templates/CreateUserFileSource.vue
+++ b/client/src/components/FileSources/Templates/CreateUserFileSource.vue
@@ -1,5 +1,6 @@
 <script lang="ts" setup>
-import { computed } from "vue";
+import { BAlert } from "bootstrap-vue";
+import { computed, ref } from "vue";
 import { useRouter } from "vue-router/composables";
 
 import { useFileSourceTemplatesStore } from "@/stores/fileSourceTemplatesStore";
@@ -17,14 +18,37 @@ const loading = computed(() => fileSourceTemplatesStore.loading);
 
 const router = useRouter();
 
-async function chooseTemplate(selectTemplateId: string) {
+const errorMessage = ref("");
+
+function chooseTemplate(selectTemplateId: string) {
     router.push({
         path: `/file_source_templates/${selectTemplateId}/new`,
     });
 }
+
+function handleOAuth2Redirect() {
+    if (router.currentRoute.query.error === "access_denied") {
+        errorMessage.value = "You must authorize Galaxy to access this resource. Please try again.";
+    } else if (router.currentRoute.query.error) {
+        const error = router.currentRoute.query.error;
+
+        if (Array.isArray(error)) {
+            errorMessage.value = error[0] || "There was an error creating the file source.";
+        } else {
+            errorMessage.value = error;
+        }
+    }
+}
+
+handleOAuth2Redirect();
 </script>
+
 <template>
     <CreateInstance :loading-message="loadingTemplatesInfoMessage" :loading="loading" prefix="file-source">
+        <BAlert v-if="errorMessage" variant="danger" show dismissible>
+            {{ errorMessage }}
+        </BAlert>
+
         <SelectTemplate :templates="templates" @onSubmit="chooseTemplate" />
     </CreateInstance>
 </template>
diff --git a/client/src/components/ObjectStore/Instances/CreateForm.test.ts b/client/src/components/ObjectStore/Instances/CreateForm.test.ts
index 0976a7479612..1012bb09858c 100644
--- a/client/src/components/ObjectStore/Instances/CreateForm.test.ts
+++ b/client/src/components/ObjectStore/Instances/CreateForm.test.ts
@@ -3,7 +3,7 @@ import flushPromises from "flush-promises";
 import { getLocalVue } from "tests/jest/helpers";
 
 import { useServerMock } from "@/api/client/__mocks__";
-import { type PluginStatus } from "@/api/configTemplates";
+import { OK_PLUGIN_STATUS } from "@/components/ConfigTemplates/test_fixtures";
 import { type ObjectStoreTemplateSummary } from "@/components/ObjectStore/Templates/types";
 
 import { type UserConcreteObjectStore } from "./types";
@@ -80,21 +80,6 @@ const SIMPLE_TEMPLATE: ObjectStoreTemplateSummary = {
     hidden: false,
 };
 
-const FAKE_PLUGIN_STATUS: PluginStatus = {
-    template_definition: {
-        state: "ok",
-        message: "ok",
-    },
-    template_settings: {
-        state: "ok",
-        message: "ok",
-    },
-    connection: {
-        state: "ok",
-        message: "ok",
-    },
-};
-
 const { server, http } = useServerMock();
 
 describe("CreateForm", () => {
@@ -129,7 +114,7 @@ describe("CreateForm", () => {
                 return response(200).json(FAKE_OBJECT_STORE);
             }),
             http.post("/api/object_store_instances/test", ({ response }) => {
-                return response(200).json(FAKE_PLUGIN_STATUS);
+                return response(200).json(OK_PLUGIN_STATUS);
             })
         );
 
@@ -155,7 +140,7 @@ describe("CreateForm", () => {
                 return response("4XX").json({ err_msg: "Error creating this", err_code: 400 }, { status: 400 });
             }),
             http.post("/api/object_store_instances/test", ({ response }) => {
-                return response(200).json(FAKE_PLUGIN_STATUS);
+                return response(200).json(OK_PLUGIN_STATUS);
             })
         );
 
@@ -163,12 +148,13 @@ describe("CreateForm", () => {
         const nameForElement = wrapper.find("#form-element-_meta_name");
         nameForElement.find("input").setValue("My New Name");
         const submitElement = wrapper.find("#submit");
-        expect(wrapper.find(".object-store-instance-creation-error").exists()).toBe(false);
+        expect(wrapper.find("[data-description='object-store-creation-error']").exists()).toBe(false);
         submitElement.trigger("click");
         await flushPromises();
         const emitted = wrapper.emitted("created") || [];
         expect(emitted).toHaveLength(0);
-        const errorEl = wrapper.find(".object-store-instance-creation-error");
+        const errorEl = wrapper.find("[data-description='object-store-creation-error']");
+        console.log(wrapper.html());
         expect(errorEl.exists()).toBe(true);
         expect(errorEl.html()).toContain("Error creating this");
     });
diff --git a/client/src/components/ObjectStore/Instances/CreateForm.vue b/client/src/components/ObjectStore/Instances/CreateForm.vue
index 1ad09a5d1bb9..1c6b3cb5ad06 100644
--- a/client/src/components/ObjectStore/Instances/CreateForm.vue
+++ b/client/src/components/ObjectStore/Instances/CreateForm.vue
@@ -1,77 +1,46 @@
 <script lang="ts" setup>
-import { BAlert } from "bootstrap-vue";
-import { computed, ref } from "vue";
+import { toRef } from "vue";
 
-import { GalaxyApi } from "@/api";
-import {
-    createFormDataToPayload,
-    createTemplateForm,
-    type FormEntry,
-    pluginStatusToErrorMessage,
-} from "@/components/ConfigTemplates/formUtil";
+import { useConfigurationTemplateCreation } from "@/components/ConfigTemplates/useConfigurationTesting";
 import type { UserConcreteObjectStore } from "@/components/ObjectStore/Instances/types";
 import type { ObjectStoreTemplateSummary } from "@/components/ObjectStore/Templates/types";
-import { errorMessageAsString } from "@/utils/simple-error";
 
-import InstanceForm from "@/components/ConfigTemplates/InstanceForm.vue";
+const createUrl = "/api/object_store_instances";
+const createTestUrl = "/api/object_store_instances/test";
 
 interface CreateFormProps {
     template: ObjectStoreTemplateSummary;
+    uuid?: string;
 }
-const error = ref<string | null>(null);
 const props = defineProps<CreateFormProps>();
 const title = "Create a new storage location for your data";
-const submitTitle = "Submit";
-const loadingMessage = "Loading storage location template and instance information";
-
-const inputs = computed<Array<FormEntry>>(() => {
-    return createTemplateForm(props.template, "storage location");
-});
-
-async function onSubmit(formData: any) {
-    const payload = createFormDataToPayload(props.template, formData);
-
-    const { data: pluginStatus, error: testRequestError } = await GalaxyApi().POST("/api/object_store_instances/test", {
-        body: payload,
-    });
-
-    if (testRequestError) {
-        error.value = errorMessageAsString(testRequestError);
-        return;
-    }
-
-    const testError = pluginStatusToErrorMessage(pluginStatus);
-    if (testError) {
-        error.value = testError;
-        return;
-    }
-
-    const { data: objectStore, error: createRequestError } = await GalaxyApi().POST("/api/object_store_instances", {
-        body: payload,
-    });
-
-    if (createRequestError) {
-        error.value = errorMessageAsString(createRequestError);
-        return;
-    }
-
-    emit("created", objectStore);
-}
 
 const emit = defineEmits<{
     (e: "created", objectStore: UserConcreteObjectStore): void;
 }>();
+
+const { ActionSummary, error, inputs, InstanceForm, onSubmit, submitTitle, loadingMessage, testRunning, testResults } =
+    useConfigurationTemplateCreation(
+        "storage location",
+        toRef(props, "template"),
+        toRef(props, "uuid"),
+        createTestUrl,
+        createUrl,
+        (instance: UserConcreteObjectStore) => emit("created", instance)
+    );
 </script>
 <template>
     <div id="create-object-store-landing">
-        <BAlert v-if="error" variant="danger" class="object-store-instance-creation-error" show>
-            {{ error }}
-        </BAlert>
+        <ActionSummary
+            error-data-description="object-store-creation-error"
+            :test-results="testResults"
+            :error="error" />
         <InstanceForm
             :inputs="inputs"
             :title="title"
             :submit-title="submitTitle"
             :loading-message="loadingMessage"
+            :busy="testRunning"
             @onSubmit="onSubmit" />
     </div>
 </template>
diff --git a/client/src/components/ObjectStore/Instances/EditInstance.vue b/client/src/components/ObjectStore/Instances/EditInstance.vue
index 40d1239810f7..57c4a211bf8c 100644
--- a/client/src/components/ObjectStore/Instances/EditInstance.vue
+++ b/client/src/components/ObjectStore/Instances/EditInstance.vue
@@ -2,16 +2,15 @@
 import { BTab, BTabs } from "bootstrap-vue";
 import { computed, ref } from "vue";
 
-import { GalaxyApi } from "@/api";
-import { editFormDataToPayload, editTemplateForm, type FormEntry } from "@/components/ConfigTemplates/formUtil";
-import { rethrowSimple } from "@/utils/simple-error";
+import { useConfigurationTemplateEdit } from "@/components/ConfigTemplates/useConfigurationTesting";
 
 import { useInstanceAndTemplate } from "./instance";
 import { useInstanceRouting } from "./routing";
-import type { UserConcreteObjectStore } from "./types";
 
 import EditSecrets from "./EditSecrets.vue";
-import InstanceForm from "@/components/ConfigTemplates/InstanceForm.vue";
+
+const editTestUrl = "/api/object_store_instances/{uuid}/test";
+const editUrl = "/api/object_store_instances/{uuid}";
 
 interface Props {
     instanceId: string;
@@ -20,58 +19,40 @@ interface Props {
 const props = defineProps<Props>();
 const { instance, template } = useInstanceAndTemplate(ref(props.instanceId));
 
-const inputs = computed<Array<FormEntry> | undefined>(() => {
-    template.value;
-    instance.value;
-    if (template.value && instance.value) {
-        return editTemplateForm(template.value, "storage location", instance.value);
-    }
-    return undefined;
-});
-
 const title = computed(() => `Edit Storage Location ${instance.value?.name} Settings`);
-const hasSecrets = computed(() => instance.value?.secrets && instance.value?.secrets.length > 0);
-const submitTitle = "Update Settings";
-const loadingMessage = "Loading storage location template and instance information";
-
-async function onSubmit(formData: any) {
-    if (template.value) {
-        const payload = editFormDataToPayload(template.value, formData);
-
-        const user_object_store_id = instance?.value?.uuid!;
-
-        const { data: objectStore, error } = await GalaxyApi().PUT(
-            "/api/object_store_instances/{user_object_store_id}",
-            {
-                params: { path: { user_object_store_id } },
-                body: payload,
-            }
-        );
+const errorDataDescription = "object-store-update-error";
 
-        if (error) {
-            rethrowSimple(error);
-        }
-
-        await onUpdate(objectStore);
-    }
-}
-
-const { goToIndex } = useInstanceRouting();
-
-async function onUpdate(objectStore: UserConcreteObjectStore) {
-    const message = `Updated storage location ${objectStore.name}`;
-    goToIndex({ message });
-}
+const {
+    error,
+    hasSecrets,
+    ActionSummary,
+    inputs,
+    InstanceForm,
+    loadingMessage,
+    onForceSubmit,
+    onSubmit,
+    testRunning,
+    testResults,
+    showForceActionButton,
+    submitTitle,
+} = useConfigurationTemplateEdit("storage location", instance, template, editTestUrl, editUrl, useInstanceRouting);
 </script>
 <template>
     <div>
         <BTabs v-if="hasSecrets">
             <BTab title="Settings" active>
+                <ActionSummary
+                    :error-data-description="errorDataDescription"
+                    :test-results="testResults"
+                    :error="error" />
                 <InstanceForm
                     :inputs="inputs"
                     :title="title"
                     :submit-title="submitTitle"
                     :loading-message="loadingMessage"
+                    :busy="testRunning"
+                    :show-force-action-button="showForceActionButton"
+                    @onForceSubmit="onForceSubmit"
                     @onSubmit="onSubmit" />
             </BTab>
             <BTab title="Secrets">
@@ -80,12 +61,17 @@ async function onUpdate(objectStore: UserConcreteObjectStore) {
                 </div>
             </BTab>
         </BTabs>
-        <InstanceForm
-            v-else
-            :inputs="inputs"
-            :title="title"
-            :submit-title="submitTitle"
-            :loading-message="loadingMessage"
-            @onSubmit="onSubmit" />
+        <div v-else>
+            <ActionSummary :error-data-description="errorDataDescription" :test-results="testResults" :error="error" />
+            <InstanceForm
+                :inputs="inputs"
+                :title="title"
+                :submit-title="submitTitle"
+                :loading-message="loadingMessage"
+                :busy="testRunning"
+                :show-force-action-button="showForceActionButton"
+                @onForceSubmit="onForceSubmit"
+                @onSubmit="onSubmit" />
+        </div>
     </div>
 </template>
diff --git a/client/src/components/ObjectStore/Instances/EditSecrets.vue b/client/src/components/ObjectStore/Instances/EditSecrets.vue
index e9cabecda81e..ab1644c62647 100644
--- a/client/src/components/ObjectStore/Instances/EditSecrets.vue
+++ b/client/src/components/ObjectStore/Instances/EditSecrets.vue
@@ -17,8 +17,8 @@ const props = defineProps<Props>();
 const title = computed(() => `Update Storage Location ${props.objectStore?.name} Secrets`);
 
 async function onUpdate(secretName: string, secretValue: string) {
-    const { error } = await GalaxyApi().PUT("/api/object_store_instances/{user_object_store_id}", {
-        params: { path: { user_object_store_id: props.objectStore.uuid } },
+    const { error } = await GalaxyApi().PUT("/api/object_store_instances/{uuid}", {
+        params: { path: { uuid: props.objectStore.uuid } },
         body: {
             secret_name: secretName,
             secret_value: secretValue,
diff --git a/client/src/components/ObjectStore/Instances/InstanceDropdown.vue b/client/src/components/ObjectStore/Instances/InstanceDropdown.vue
index aeaaf78ae5d5..e6f6cf06ace2 100644
--- a/client/src/components/ObjectStore/Instances/InstanceDropdown.vue
+++ b/client/src/components/ObjectStore/Instances/InstanceDropdown.vue
@@ -23,8 +23,8 @@ const isUpgradable = computed(() =>
 );
 
 async function onRemove() {
-    const { error } = await GalaxyApi().PUT("/api/object_store_instances/{user_object_store_id}", {
-        params: { path: { user_object_store_id: props.objectStore.uuid } },
+    const { error } = await GalaxyApi().PUT("/api/object_store_instances/{uuid}", {
+        params: { path: { uuid: props.objectStore.uuid } },
         body: { hidden: true },
     });
 
@@ -37,6 +37,7 @@ async function onRemove() {
 
 const emit = defineEmits<{
     (e: "entryRemoved"): void;
+    (e: "test"): void;
 }>();
 </script>
 
@@ -47,5 +48,6 @@ const emit = defineEmits<{
         :is-upgradable="isUpgradable"
         :route-upgrade="routeUpgrade"
         :route-edit="routeEdit"
+        @test="emit('test')"
         @remove="onRemove" />
 </template>
diff --git a/client/src/components/ObjectStore/Instances/ManageIndex.vue b/client/src/components/ObjectStore/Instances/ManageIndex.vue
index c30d1def5210..f4d4f419737e 100644
--- a/client/src/components/ObjectStore/Instances/ManageIndex.vue
+++ b/client/src/components/ObjectStore/Instances/ManageIndex.vue
@@ -4,11 +4,11 @@ import { computed } from "vue";
 
 import type { UserConcreteObjectStore } from "@/api/objectStores";
 import { DESCRIPTION_FIELD, NAME_FIELD, TEMPLATE_FIELD, TYPE_FIELD } from "@/components/ConfigTemplates/fields";
+import { useInstanceTesting } from "@/components/ConfigTemplates/useConfigurationTesting";
 import { useFiltering } from "@/components/ConfigTemplates/useInstanceFiltering";
 import { useObjectStoreInstancesStore } from "@/stores/objectStoreInstancesStore";
 import _l from "@/utils/localization";
 
-import InstanceDropdown from "./InstanceDropdown.vue";
 import ManageIndexHeader from "@/components/ConfigTemplates/ManageIndexHeader.vue";
 import LoadingSpan from "@/components/LoadingSpan.vue";
 import ObjectStoreBadges from "@/components/ObjectStore/ObjectStoreBadges.vue";
@@ -39,6 +39,11 @@ objectStoreInstancesStore.fetchInstances();
 function reload() {
     objectStoreInstancesStore.fetchInstances();
 }
+
+const testInstanceUrl = "/api/object_store_instances/{uuid}/test";
+
+const { ConfigurationTestSummaryModal, showTestResults, testResults, test, testingError } =
+    useInstanceTesting(testInstanceUrl);
 </script>
 
 <template>
@@ -48,6 +53,7 @@ function reload() {
             create-button-id="object-store-create"
             create-route="/object_store_instances/create">
         </ManageIndexHeader>
+        <ConfigurationTestSummaryModal v-model="showTestResults" :error="testingError" :test-results="testResults" />
         <BTable
             id="user-object-stores-index"
             no-sort-reset
@@ -68,7 +74,7 @@ function reload() {
                 <ObjectStoreBadges size="1x" :badges="row.item.badges" />
             </template>
             <template v-slot:cell(name)="row">
-                <InstanceDropdown :object-store="row.item" @entryRemoved="reload" />
+                <InstanceDropdown :object-store="row.item" @entryRemoved="reload" @test="test(row.item)" />
             </template>
             <template v-slot:cell(type)="row">
                 <ObjectStoreTypeSpan :type="row.item.type" />
diff --git a/client/src/components/ObjectStore/Instances/UpgradeForm.test.ts b/client/src/components/ObjectStore/Instances/UpgradeForm.test.ts
index c64e09966e68..eed6cf3bdf06 100644
--- a/client/src/components/ObjectStore/Instances/UpgradeForm.test.ts
+++ b/client/src/components/ObjectStore/Instances/UpgradeForm.test.ts
@@ -3,6 +3,7 @@ import flushPromises from "flush-promises";
 import { getLocalVue, injectTestRouter } from "tests/jest/helpers";
 
 import { useServerMock } from "@/api/client/__mocks__";
+import { OK_PLUGIN_STATUS } from "@/components/ConfigTemplates/test_fixtures";
 import { type ObjectStoreTemplateSummary } from "@/components/ObjectStore/Templates/types";
 
 import { type UserConcreteObjectStore } from "./types";
@@ -113,7 +114,10 @@ describe("UpgradeForm", () => {
             router,
         });
         server.use(
-            http.put("/api/object_store_instances/{user_object_store_id}", ({ response }) => {
+            http.post("/api/object_store_instances/{uuid}/test", ({ response }) => {
+                return response(200).json(OK_PLUGIN_STATUS);
+            }),
+            http.put("/api/object_store_instances/{uuid}", ({ response }) => {
                 return response(200).json(INSTANCE);
             })
         );
@@ -137,19 +141,21 @@ describe("UpgradeForm", () => {
             router,
         });
         server.use(
-            http.put("/api/object_store_instances/{user_object_store_id}", ({ response }) => {
+            http.post("/api/object_store_instances/{uuid}/test", ({ response }) => {
+                return response(200).json(OK_PLUGIN_STATUS);
+            }),
+            http.put("/api/object_store_instances/{uuid}", ({ response }) => {
                 return response("4XX").json({ err_msg: "problem upgrading", err_code: 400 }, { status: 400 });
             })
         );
-
         await flushPromises();
         const submitElement = wrapper.find("#submit");
-        expect(wrapper.find(".object-store-instance-upgrade-error").exists()).toBe(false);
+        expect(wrapper.find("[data-description='object-store-upgrade-error']").exists()).toBe(false);
         submitElement.trigger("click");
         await flushPromises();
         const emitted = wrapper.emitted("created") || [];
         expect(emitted).toHaveLength(0);
-        const errorEl = wrapper.find(".object-store-instance-upgrade-error");
+        const errorEl = wrapper.find("[data-description='object-store-upgrade-error']");
         expect(errorEl.exists()).toBe(true);
         expect(errorEl.html()).toContain("problem upgrading");
     });
diff --git a/client/src/components/ObjectStore/Instances/UpgradeForm.vue b/client/src/components/ObjectStore/Instances/UpgradeForm.vue
index 255c628f0639..fd71339a6cdc 100644
--- a/client/src/components/ObjectStore/Instances/UpgradeForm.vue
+++ b/client/src/components/ObjectStore/Instances/UpgradeForm.vue
@@ -1,71 +1,56 @@
 <script setup lang="ts">
-import { BAlert } from "bootstrap-vue";
-import { computed, ref } from "vue";
+import { computed, toRef } from "vue";
 
-import { GalaxyApi } from "@/api";
-import { type FormEntry, upgradeForm, upgradeFormDataToPayload } from "@/components/ConfigTemplates/formUtil";
-import { errorMessageAsString } from "@/utils/simple-error";
+import { useConfigurationTemplateUpgrade } from "@/components/ConfigTemplates/useConfigurationTesting";
 
 import type { ObjectStoreTemplateSummary } from "../Templates/types";
 import { useInstanceRouting } from "./routing";
-import type { UserConcreteObjectStore } from "./types";
+import { type UserConcreteObjectStore } from "./types";
 
-import InstanceForm from "@/components/ConfigTemplates/InstanceForm.vue";
+const editTestUrl = "/api/object_store_instances/{uuid}/test";
+const editUrl = "/api/object_store_instances/{uuid}";
 
 interface Props {
     instance: UserConcreteObjectStore;
     latestTemplate: ObjectStoreTemplateSummary;
 }
 
-const error = ref<string | null>(null);
 const props = defineProps<Props>();
 
-const inputs = computed<Array<FormEntry> | undefined>(() => {
-    const realizedInstance: UserConcreteObjectStore = props.instance;
-    const realizedLatestTemplate = props.latestTemplate;
-    const form = upgradeForm(realizedLatestTemplate, realizedInstance);
-    return form;
-});
 const title = computed(() => `Upgrade Object Store ${props.instance.name}`);
-const submitTitle = "Update Settings";
-const loadingMessage = "Loading storage location template and instance information";
 
-async function onSubmit(formData: any) {
-    const payload = upgradeFormDataToPayload(props.latestTemplate, formData);
-
-    const { data: objectStore, error: updateRequestError } = await GalaxyApi().PUT(
-        "/api/object_store_instances/{user_object_store_id}",
-        {
-            params: { path: { user_object_store_id: props.instance.uuid } },
-            body: payload,
-        }
-    );
-
-    if (updateRequestError) {
-        error.value = errorMessageAsString(updateRequestError);
-        return;
-    }
-
-    await onUpgrade(objectStore);
-}
-
-const { goToIndex } = useInstanceRouting();
-
-async function onUpgrade(objectStore: UserConcreteObjectStore) {
-    const message = `Upgraded storage location ${objectStore.name}`;
-    goToIndex({ message });
-}
+const {
+    error,
+    ActionSummary,
+    inputs,
+    InstanceForm,
+    loadingMessage,
+    showForceActionButton,
+    onForceSubmit,
+    onSubmit,
+    testRunning,
+    testResults,
+    submitTitle,
+} = useConfigurationTemplateUpgrade(
+    "storage location",
+    toRef(props, "instance"),
+    toRef(props, "latestTemplate"),
+    editTestUrl,
+    editUrl,
+    useInstanceRouting
+);
 </script>
 <template>
     <div>
-        <BAlert v-if="error" variant="danger" class="object-store-instance-upgrade-error" show>
-            {{ error }}
-        </BAlert>
+        <ActionSummary error-data-description="object-store-upgrade-error" :test-results="testResults" :error="error" />
         <InstanceForm
             :inputs="inputs"
             :title="title"
             :submit-title="submitTitle"
             :loading-message="loadingMessage"
+            :busy="testRunning"
+            :show-force-action-button="showForceActionButton"
+            @onForceSubmit="onForceSubmit"
             @onSubmit="onSubmit" />
     </div>
 </template>
diff --git a/client/src/components/ObjectStore/Instances/routing.ts b/client/src/components/ObjectStore/Instances/routing.ts
index 44aca677a052..207491483423 100644
--- a/client/src/components/ObjectStore/Instances/routing.ts
+++ b/client/src/components/ObjectStore/Instances/routing.ts
@@ -1,16 +1,3 @@
-import { useRouter } from "vue-router/composables";
+import { buildInstanceRoutingComposable } from "@/components/ConfigTemplates/routing";
 
-export function useInstanceRouting() {
-    const router = useRouter();
-
-    async function goToIndex(query: Record<"message", string>) {
-        router.push({
-            path: "/object_store_instances/index",
-            query: query,
-        });
-    }
-
-    return {
-        goToIndex,
-    };
-}
+export const useInstanceRouting = buildInstanceRoutingComposable("/object_store_instances/index");
diff --git a/client/src/components/ObjectStore/Instances/services.ts b/client/src/components/ObjectStore/Instances/services.ts
new file mode 100644
index 000000000000..fc82ca77f03d
--- /dev/null
+++ b/client/src/components/ObjectStore/Instances/services.ts
@@ -0,0 +1,16 @@
+import { GalaxyApi } from "@/api";
+
+import type { UserConcreteObjectStore } from "./types";
+
+const updateUrl = "/api/object_store_instances/{uuid}";
+
+export async function hide(instance: UserConcreteObjectStore) {
+    const payload = { hidden: true };
+    const { data: objectStore } = await GalaxyApi().PUT(updateUrl, {
+        params: {
+            path: { uuid: String(instance?.uuid) },
+        },
+        body: payload,
+    });
+    return objectStore;
+}
diff --git a/client/src/entry/analysis/router.js b/client/src/entry/analysis/router.js
index 18024224e9d3..837e70a574bc 100644
--- a/client/src/entry/analysis/router.js
+++ b/client/src/entry/analysis/router.js
@@ -395,6 +395,11 @@ export function getRouter(Galaxy) {
                     {
                         path: "file_source_instances/create",
                         component: CreateUserFileSource,
+                        props: (route) => {
+                            return {
+                                error: route.params.error,
+                            };
+                        },
                     },
                     {
                         path: "file_source_instances/index",
@@ -416,7 +421,10 @@ export function getRouter(Galaxy) {
                     {
                         path: "file_source_templates/:templateId/new",
                         component: CreateFileSourceInstance,
-                        props: true,
+                        props: (route) => ({
+                            templateId: route.params.templateId,
+                            uuid: route.query.uuid,
+                        }),
                     },
                     {
                         path: "pages/create",
diff --git a/doc/source/admin/data.md b/doc/source/admin/data.md
index 0ec463c8f6ee..15fbecbade4a 100644
--- a/doc/source/admin/data.md
+++ b/doc/source/admin/data.md
@@ -13,13 +13,13 @@ This document is going to discuss two of these (file sources and object stores)
 File sources in Galaxy are a sprawling concept but essentially they provide users access to simple files (stored hierarchically into folders) that can be navigated and imported into Galaxy. Importing a "file" into Galaxy generally creates a copy of that file into a Galaxy "object store". Once these files are stored in Galaxy,
 they become "datasets". A Galaxy dataset is much more than a simple file - Galaxy datasets include various generic metadata a datatype, datatype specific metadata, and ownership and sharing rules managed by Galaxy.
 
-Galaxy object stores (called "storage locations" in the UI) store datasets and global (accessible to all users) object stores are configured with the ``galaxy.yml`` property ``object_store_config_file`` (or  ``object_store_config`` for a configuration embedded right in ``galaxy.yml``) that defaults to ``object_store_conf.xml`` or ``object_store_conf.yml`` if either is present in Galaxy's configuration directory. Galaxy file sources provide users access to raw files and global files sources are configured with the ``galaxy.yml`` property ``file_sources_config_file`` (or ``file_sources`` for embedded configurations) that defaults to ``file_sources_conf.yml`` if that file is present in Galaxy's configuration directory.
+Galaxy object stores (called "storage locations" in the UI) store datasets and global (accessible to all users) object stores are configured with the `galaxy.yml` property `object_store_config_file` (or `object_store_config` for a configuration embedded right in `galaxy.yml`) that defaults to `object_store_conf.xml` or `object_store_conf.yml` if either is present in Galaxy's configuration directory. Galaxy file sources provide users access to raw files and global files sources are configured with the `galaxy.yml` property `file_sources_config_file` (or `file_sources` for embedded configurations) that defaults to `file_sources_conf.yml` if that file is present in Galaxy's configuration directory.
 
-Some of Galaxy's most updated and complete administrator documentation can be found in configuration sample files - this is definitely the case for object stores and file sources. The relevant sample configuration files include  [file_sources_conf.yml.sample](https://github.com/galaxyproject/galaxy/blob/dev/lib/galaxy/config/sample/file_sources_conf.yml.sample) and [object_store_conf.sample.yml](https://github.com/galaxyproject/galaxy/blob/dev/lib/galaxy/config/sample/object_store_conf.sample.yml).
+Some of Galaxy's most updated and complete administrator documentation can be found in configuration sample files - this is definitely the case for object stores and file sources. The relevant sample configuration files include [file_sources_conf.yml.sample](https://github.com/galaxyproject/galaxy/blob/dev/lib/galaxy/config/sample/file_sources_conf.yml.sample) and [object_store_conf.sample.yml](https://github.com/galaxyproject/galaxy/blob/dev/lib/galaxy/config/sample/object_store_conf.sample.yml).
 
-File sources and object stores configured with the above files essentially are available to all users of your Galaxy instance - hence this document describes them as "global" file sources and object  stores. File source configurations do allow some templating that does allow the a global file source to be materialized differently for different users. For instance, you as an admin may setup a Dropbox file source and may explicitly add custom user properties that allow that single Dropbox file source to read from a user's preferences. Since there is just one Dropbox service and most people only have a single Dropbox account, this use case can be somewhat adequately addressed by the global file source and the global user preferences file. For a use case like Amazon S3 buckets though for instance, a single bucket file source that is parameterized one way is probably more clearly inadequate. For instance, users would very likely want to attach different buckets for different projects.  Additionally, the Galaxy user interface doesn't tie the user preferences to the particular file source and so this method introduces a huge education burden on your Galaxy instance. Finally, the templating available to file sources are not available for object stores - and allowing users to describe how they would like datasets stored and to pay for their own dataset storage are important use cases.
+File sources and object stores configured with the above files essentially are available to all users of your Galaxy instance - hence this document describes them as "global" file sources and object stores. File source configurations do allow some templating that does allow the a global file source to be materialized differently for different users. For instance, you as an admin may setup a Dropbox file source and may explicitly add custom user properties that allow that single Dropbox file source to read from a user's preferences. Since there is just one Dropbox service and most people only have a single Dropbox account, this use case can be somewhat adequately addressed by the global file source and the global user preferences file. For a use case like Amazon S3 buckets though for instance, a single bucket file source that is parameterized one way is probably more clearly inadequate. For instance, users would very likely want to attach different buckets for different projects. Additionally, the Galaxy user interface doesn't tie the user preferences to the particular file source and so this method introduces a huge education burden on your Galaxy instance. Finally, the templating available to file sources are not available for object stores - and allowing users to describe how they would like datasets stored and to pay for their own dataset storage are important use cases.
 
-This document is going to describe Galaxy configuration template libraries that allow the 
+This document is going to describe Galaxy configuration template libraries that allow the
 administrator to setup templates for file sources and object stores that your users may instantiate
 as they see fit. User's can instantiate multiple instances of any template, the template concept
 can apply to both file source and object store plugins, and the user interface is unified from the
@@ -29,10 +29,10 @@ your users do not need to navigate seemingly unrelated preferences to get plugin
 ## Object Store Templates
 
 Galaxy's object store templates are configured as a YAML list of template objects. This list
-can be placed ``object_store_templates.yml`` in Galaxy configuration directory (or any path
-pointed to by the configuration option ``object_store_templates_config_file`` in ``galaxy.yml``).
-Alternatively, the  configuration can be placed directly into ``galaxy.yml`` using the
-``object_store_templates`` configuration option.
+can be placed `object_store_templates.yml` in Galaxy configuration directory (or any path
+pointed to by the configuration option `object_store_templates_config_file` in `galaxy.yml`).
+Alternatively, the configuration can be placed directly into `galaxy.yml` using the
+`object_store_templates` configuration option.
 
 :::{admonition} Warning
 :class: warning
@@ -40,8 +40,8 @@ Alternatively, the  configuration can be placed directly into ``galaxy.yml`` usi
 Object store selection within Galaxy is available only when the primary object store is a
 distributed object store. All the other object stores provide stronger guarantees about how
 datasets are stored. Object Store Templates will not currently work if the primary
-object store (usually defined by ``object_store_config_file``) is a simple disk object
-store, a hierarchal object store, or anything other than a ``distributed`` object store.
+object store (usually defined by `object_store_config_file`) is a simple disk object
+store, a hierarchal object store, or anything other than a `distributed` object store.
 
 Ongoing discussion on this topic can be found at [this Galaxy Discussions post (#18157)](https://github.com/galaxyproject/galaxy/discussions/18157).
 :::
@@ -54,7 +54,7 @@ A minimal object store template might look something like:
 
 ### Object Store Types
 
-#### ``disk``
+#### `disk`
 
 This is the most basic sort of object store template that just makes disk paths available to users
 for storing data. Paths can be built up from the user supplied variables, user details, supplied
@@ -67,20 +67,20 @@ user's username to produce a unique path for each user defined object store.
 
 These sorts of object stores have no quota so be careful.
 
-The syntax for the ``configuration`` section of ``disk`` templates looks like this.
+The syntax for the `configuration` section of `disk` templates looks like this.
 
 ![](object_store_disk_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's object store infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``object_store_conf.yml`` (Galaxy's global object
+of what you'd be able to add directly to `object_store_conf.yml` (Galaxy's global object
 store configuration).
 
 ![](object_store_disk_configuration.png)
 
-#### ``boto3``
+#### `boto3`
 
-Object stores of the type ``boto3`` can be used to access a wide variety of S3
+Object stores of the type `boto3` can be used to access a wide variety of S3
 compatible storage services including AWS S3. How you template them can result in widely
 different experiences for your users and can result in addressing a wide variety of use cases.
 
@@ -116,18 +116,18 @@ and easily as possible that templates might look like this:
 :language: yaml
 ```
 
-The syntax for the ``configuration`` section of ``boto3`` templates looks like this.
+The syntax for the `configuration` section of `boto3` templates looks like this.
 
 ![](object_store_boto3_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's object store infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``object_store_conf.yml`` (Galaxy's global object
+of what you'd be able to add directly to `object_store_conf.yml` (Galaxy's global object
 store configuration).
 
 ![](object_store_boto3_configuration.png)
 
-#### ``azure_blob``
+#### `azure_blob`
 
 Here is a "production grade" Azure template that can be essentially used to connect to any
 Azure storage container.
@@ -147,47 +147,46 @@ This example is a little contrived though, if a small lab or institution has jus
 it would likely be a much easier user experience to just wrap them all in a Galaxy hierarchical
 object store, document them there, and make them available to your whole Galaxy instance.
 
-The syntax for the ``configuration`` section of ``azure_blob`` templates looks like this.
+The syntax for the `configuration` section of `azure_blob` templates looks like this.
 
 ![](object_store_azure_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's object store infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``object_store_conf.yml`` (Galaxy's global object
+of what you'd be able to add directly to `object_store_conf.yml` (Galaxy's global object
 store configuration).
 
 ![](object_store_azure_configuration.png)
 
-#### ``aws_s3`` (Legacy)
+#### `aws_s3` (Legacy)
 
-Object stores of the type ``aws_s3`` are be used to treat AWS Simple Storage Service (S3) buckets
+Object stores of the type `aws_s3` are be used to treat AWS Simple Storage Service (S3) buckets
 as Galaxy object stores. See Amazon documentation for information on [S3](https://aws.amazon.com/s3/)
 and [how to create buckets](https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html)
 and [how to create access keys](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html).
 
-
 ```{literalinclude} ../../../lib/galaxy/objectstore/templates/examples/production_aws_s3_legacy.yml
 :language: yaml
 ```
 
-The ``aws_s3`` object store is older and more well tested than the ``boto3`` object store, but
-the ``boto3`` object store is built using a newer, more robust, and more feature-rich client
+The `aws_s3` object store is older and more well tested than the `boto3` object store, but
+the `boto3` object store is built using a newer, more robust, and more feature-rich client
 library so it should probably be the object store you use instead of this.
 
-The syntax for the ``configuration`` section of ``aws_s3`` templates looks like this.
+The syntax for the `configuration` section of `aws_s3` templates looks like this.
 
 ![](object_store_aws_s3_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's object store infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``object_store_conf.yml`` (Galaxy's global object
+of what you'd be able to add directly to `object_store_conf.yml` (Galaxy's global object
 store configuration).
 
 ![](object_store_aws_s3_configuration.png)
 
-#### ``generic_s3`` (Legacy)
+#### `generic_s3` (Legacy)
 
-Object stores of the type ``generic_s3`` can be used to access a wide variety of S3
+Object stores of the type `generic_s3` can be used to access a wide variety of S3
 compatible storage services. How you template them can result in widely different
 experiences for your users and can result in addressing a wide variety of use cases.
 
@@ -216,13 +215,13 @@ your user's to define individual buckets by name:
 :language: yaml
 ```
 
-The syntax for the ``configuration`` section of ``generic_s3`` templates looks like this.
+The syntax for the `configuration` section of `generic_s3` templates looks like this.
 
 ![](object_store_generic_s3_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's object store infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``object_store_conf.yml`` (Galaxy's global object
+of what you'd be able to add directly to `object_store_conf.yml` (Galaxy's global object
 store configuration).
 
 ![](object_store_generic_s3_configuration.png)
@@ -261,7 +260,6 @@ and you're comfortable with it storing your user's secrets.
 
 ![Screenshot](user_object_store_form_full_aws_s3.png)
 
-
 #### Allow Users to Define Google Cloud Provider S3 Interop Storage Buckets as Object Stores
 
 This template includes descriptions of how to generate HMAC keys used by this interoperability
@@ -276,28 +274,27 @@ layer provided by Google and lots of links to relevant Google Cloud Storage docu
 ## File Source Templates
 
 Galaxy's file source templates are configured as a YAML list of template objects. This list
-can be placed ``file_source_templates.yml`` in Galaxy configuration directory (or any path
-pointed to by the configuration option ``file_source_templates_config_file`` in ``galaxy.yml``).
-Alternatively, the  configuration can be placed directly into ``galaxy.yml`` using the
-``file_source_templates`` configuration option.
-
+can be placed `file_source_templates.yml` in Galaxy configuration directory (or any path
+pointed to by the configuration option `file_source_templates_config_file` in `galaxy.yml`).
+Alternatively, the configuration can be placed directly into `galaxy.yml` using the
+`file_source_templates` configuration option.
 
 ### File Source Types
 
-#### ``posix``
+#### `posix`
 
-The syntax for the ``configuration`` section of ``posix`` templates looks like this.
+The syntax for the `configuration` section of `posix` templates looks like this.
 
 ![](file_source_posix_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's file source plugin infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``file_sources_conf.yml`` (Galaxy's global file source
+of what you'd be able to add directly to `file_sources_conf.yml` (Galaxy's global file source
 configuration).
 
 ![](file_source_posix_configuration.png)
 
-#### ``s3fs``
+#### `s3fs`
 
 ```{literalinclude} ../../../lib/galaxy/files/templates/examples/production_s3fs.yml
 :language: yaml
@@ -313,39 +310,39 @@ configuration).
 
 ![](file_source_s3fs_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's file source plugin infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``file_sources_conf.yml`` (Galaxy's global file source
+of what you'd be able to add directly to `file_sources_conf.yml` (Galaxy's global file source
 configuration).
 
 ![](file_source_s3fs_configuration.png)
 
-#### ``ftp``
+#### `ftp`
 
 ```{literalinclude} ../../../lib/galaxy/files/templates/examples/production_ftp.yml
 :language: yaml
 ```
 
-The syntax for the ``configuration`` section of ``ftp`` templates looks like this.
+The syntax for the `configuration` section of `ftp` templates looks like this.
 
 ![](file_source_ftp_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's file source plugin infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``file_sources_conf.yml`` (Galaxy's global file source
+of what you'd be able to add directly to `file_sources_conf.yml` (Galaxy's global file source
 configuration).
 
 ![](file_source_ftp_configuration.png)
 
-#### ``azure``
+#### `azure`
 
-The syntax for the ``configuration`` section of ``azure`` templates looks like this.
+The syntax for the `configuration` section of `azure` templates looks like this.
 
 ![](file_source_azure_configuration_template.png)
 
-At runtime, after the ``configuration`` template is expanded, the resulting dictionary
+At runtime, after the `configuration` template is expanded, the resulting dictionary
 passed to Galaxy's file source plugin infrastructure looks like this and should match a subset
-of what you'd be able to add directly to ``file_sources_conf.yml`` (Galaxy's global file source
+of what you'd be able to add directly to `file_sources_conf.yml` (Galaxy's global file source
 configuration).
 
 ![](file_source_azure_configuration.png)
@@ -363,6 +360,19 @@ configuration).
 
 ![](file_source_webdav_configuration.png)
 
+#### `dropbox`
+
+The syntax for the `configuration` section of `dropbox` templates looks like this.
+
+![](file_source_dropbox_configuration_template.png)
+
+At runtime, after the `configuration` template is expanded, the resulting dictionary
+passed to Galaxy's file source plugin infrastructure looks like this and should match a subset
+of what you'd be able to add directly to `file_sources_conf.yml` (Galaxy's global file source
+configuration).
+
+![](file_source_dropbox_configuration.png)
+
 ### YAML Syntax
 
 ![galaxy.files.templates.models](file_source_templates.png)
@@ -419,30 +429,98 @@ and you are comfortable with it storing your user's secrets.
 
 ![Screenshot](user_file_source_form_full_webdav.png)
 
+### Production OAuth 2.0 File Source Templates
+
+Unlike the examples in the previous section. These examples will require a bit of
+configuration on the part of the admin. This is to obtain client credentials from the
+external service and register an OAuth 2.0 redirection callback with the remote service.
+
+#### Dropbox
+
+Once you have OAuth 2.0 client credentials from Dropbox (called `oauth2_client_id` and
+`oauth2_client_secret` here), the following configuration can be used configure your Galaxy
+instance to enable Dropbox.
+
+```{literalinclude} ../../../lib/galaxy/files/templates/examples/production_dropbox.yml
+:language: yaml
+```
+
+To use this template - you'll need to make your credentials available to Galaxy's
+web and job handler processes using the environment variables `GALAXY_DROPBOX_APP_CLIENT_ID`
+and `GALAXY_DROPBOX_APP_CLIENT_SECRET`. Your jobs themselves do not require
+these secrets to be set and will not be given the secrets.
+
+If you'd like to configure these secrets explicit - you can configure them explicitly
+in the configuration. If your configuration file is managed by Ansible, these secrets
+could potentially be populated from your Ansible vault.
+
+```{literalinclude} ../../../lib/galaxy/files/templates/examples/dropbox_client_secrets_explicit.yml
+:language: yaml
+```
+
+To obtain the OAuth 2.0 credentials from Dropbox, you'll need to navigate to your
+[Dropbox Apps](https://www.dropbox.com/developers/apps) and create a new app
+for your Galaxy instance with the "Create app" button.
+
+![Screenshot of Dropbox](dropbox_create_button.png)
+
+The only option available is "Scoped access" and this works fine for typical
+Galaxy use cases. You will however want to click "Full Dropbox" to request
+full access to your user's account. You will also need to give your "App" a name
+here, this should likely be something related to your Galaxy instances name.
+
+![Screenshot of Dropbox](dropbox_create_app_options_1.png)
+
+After your app is created, you'll be presented with a management screen for it.
+The first thing you'll want to do is navigate to the permissions tab and enable
+permissions to read and write to files and directories so the file source plugin
+works properly:
+
+![Screenshot of Dropbox](dropbox_scopes.png)
+
+Next, navigate back to the "Settings" tab. You'll need to register a callback
+for your Galaxy instance (it will need HTTPS enabled). This should be the URL
+to your Galaxy instance with `oauth2_callback` appended to it.
+
+![Screenshot of Dropbox](dropbox_callback.png)
+
+Finally you'll be able to find the `oauth2_client_id` and `oauth2_client_secret`
+to configured your Galaxy with on this settings page.
+
+![Screenshot of Dropbox](dropbox_client_creds.png)
+
+Until you have 50 users, your App will be considered a "development" application.
+The upshot of this is that your user's will get a scary message during authorization
+but there seems to be no way around this. 50 users would definitely be considered
+a production Galaxy instance but Dropbox operates on a different scale.
+
+For more information on what Dropbox considers a "development" app versus a "production"
+app - checkout the [Dropbox documentation](https://www.dropbox.com/developers/reference/developer-guide#production-approval).
+
 ## Playing Nicer with Ansible
 
 Many large instances of Galaxy are configured with Ansible and much of the existing administrator
 documentation leverages Ansible. The configuration template files using Jinja templating and so
-does Ansible by default. This might result in a lack of clarity of when templates (strings 
-starting with ``{{`` and ending with ``}}``) are being evaluated. Ansible templates are evaluated
+does Ansible by default. This might result in a lack of clarity of when templates (strings
+starting with `{{` and ending with `}}`) are being evaluated. Ansible templates are evaluated
 at deploy time and the configuration objects describing plugins are evaluated at Galaxy runtime.
 
 The easiest way to fix this is probably to store these templates files in your Ansible as plain files
 and not templates. If you'd like to use Ansible templating to build up these files you'll very
-likely need to tell either Galaxy or Ansible to use something other than ``{{`` and ``}}`` for 
+likely need to tell either Galaxy or Ansible to use something other than `{{` and `}}` for
 templating variables. This can be done by placing a directive at the top of your template that
-is consumed by Ansible. For instance, to have ``[%`` and ``%]`` used instead of ``{{`` and ``}}``
+is consumed by Ansible. For instance, to have `[%` and `%]` used instead of `{{` and `}}`
 by Ansible at deploy time, the file could start with:
 
 ```
 #jinja2:variable_start_string:'[%' , variable_end_string:'%]'
 ```
 
-In this case, variables wrapped by ``[%`` and ``%]`` are expanded by Ansible and use the Ansible
-environment and ``{{`` and ``}}`` are reserved for Galaxy templating.
+In this case, variables wrapped by `[%` and `%]` are expanded by Ansible and use the Ansible
+environment and `{{` and `}}` are reserved for Galaxy templating.
 
 Alternatively, Galaxy can be configured to use a custom template on a per-configuration
-object basis by setting the ``template_start`` and/or ``template_end`` variables.
+object basis by setting the `template_start` and/or `template_end` variables.
 
 The following template chunk shows how to override the templating Galaxy does for a
 particular object store configuration. Similar templating overrides work for file source
@@ -452,8 +530,8 @@ plugin templates.
 :language: yaml
 ```
 
-- https://github.com/ansible/ansible/pull/75306
-- https://stackoverflow.com/questions/12083319/add-custom-tokens-in-jinja2-e-g-somevar
+-   https://github.com/ansible/ansible/pull/75306
+-   https://stackoverflow.com/questions/12083319/add-custom-tokens-in-jinja2-e-g-somevar
 
 ## Jinja Template Reference
 
@@ -470,21 +548,21 @@ allows and implements. The only relevant Jinja documentation you'll need in thes
 is probably just those documents on [variables](https://jinja.palletsprojects.com/en/3.0.x/templates/#variables), [filters](https://jinja.palletsprojects.com/en/3.0.x/templates/#filters),
 and the [list of builtin filters](https://jinja.palletsprojects.com/en/3.0.x/templates/#list-of-builtin-filters).
 
-### ``variables``
+### `variables`
 
-This is a typed dictionary object is populated with user supplied values defined via the the ``variables`` section of the configuration template and filled in by the user when they
+This is a typed dictionary object is populated with user supplied values defined via the the `variables` section of the configuration template and filled in by the user when they
 created a new object store or file source.
 
-### ``secrets``
+### `secrets`
 
-This is a dictionary of strings populated with user supplied secrets defined via the the ``secrets`` section of the configuration template and filled in by the user when they
+This is a dictionary of strings populated with user supplied secrets defined via the the `secrets` section of the configuration template and filled in by the user when they
 created a new object store or file source.
 
 A deep dive into these can be found in the [User Secrets](#user-secrets) section of this document.
 
-### ``environment``
+### `environment`
 
-This dictionary object is populated with admin-supplied values defined via the the ``environment``
+This dictionary object is populated with admin-supplied values defined via the the `environment`
 section of the configuration template.
 
 A deep dive into these can be found in the [Admin Secrets](#admin-secrets) section of this document.
@@ -493,18 +571,17 @@ A deep dive into these can be found in the [Admin Secrets](#admin-secrets) secti
 :language: yaml
 ```
 
-### ``user``
+### `user`
 
 This dictionary object exposes information about user configuring and using a target template
-configuration. These values are populated from the ``galaxy_user`` table of the Galaxy database.
+configuration. These values are populated from the `galaxy_user` table of the Galaxy database.
 The current properties exposed include:
 
-| Key          | Description                                               | 
-|--------------|-----------------------------------------------------------|
-| ``username`` | string corresponding the username of the Galaxy user      |
-| ``email``    | string corresponding the email of the Galaxy user         |
-| ``id``       | integer primary key of user object in the Galaxy database |
-
+| Key        | Description                                               |
+| ---------- | --------------------------------------------------------- |
+| `username` | string corresponding the username of the Galaxy user      |
+| `email`    | string corresponding the email of the Galaxy user         |
+| `id`       | integer primary key of user object in the Galaxy database |
 
 The simple example of project scratch storage used to describe these concepts made
 use the Galaxy user's username to generate unique paths.
@@ -513,16 +590,16 @@ use the Galaxy user's username to generate unique paths.
 :language: yaml
 ```
 
-### ``ensure_path_component``
+### `ensure_path_component`
 
 This [Jinja filter](https://jinja.palletsprojects.com/en/3.0.x/templates/#filters)
 will fail template evaluation if the value it is applied to is not
-a simple directory name. If it contain ``..`` or ``/`` or in some other way might
+a simple directory name. If it contain `..` or `/` or in some other way might
 be used to attempt path exploitation of cause odd path-related bugs. This is
-useful when producing paths for ``disk`` object stores or ``posix`` file sources.
+useful when producing paths for `disk` object stores or `posix` file sources.
 
-When taking inputs from users, setting the type of ``path_component`` instead of
-``string`` allows the client to validate potential issues way before this point,
+When taking inputs from users, setting the type of `path_component` instead of
+`string` allows the client to validate potential issues way before this point,
 but many path components might be built from environment variables or usernames
 or sources like this that are not explicitly user inputs.
 
@@ -534,27 +611,27 @@ documentation above.
 :language: yaml
 ```
 
-### ``asbool``
+### `asbool`
 
 This [Jinja filter](https://jinja.palletsprojects.com/en/3.0.x/templates/#filters)
 will use Galaxy configuration style logic to convert string values into boolean ones.
 
-When taking inputs from users, setting the type of ``boolean`` is sufficient to ensure
+When taking inputs from users, setting the type of `boolean` is sufficient to ensure
 a variable is boolean, but "secrets" and environment variables and many other things
 are likely to be of type string but should be used in a template that expects boolean
 values.
 
-An example of an object store template that uses this is ``secure`` environment parameter
+An example of an object store template that uses this is `secure` environment parameter
 on the simple minio example.
 
 ```{literalinclude} ../../../lib/galaxy/objectstore/templates/examples/minio_example.yml
 :language: yaml
 ```
 
-
 ## Connecting Configuration Templates to Secrets
 
 (user-secrets)=
+
 ### User Secrets
 
 Most of the examples in this document use secrets of one kind or another. For instance, in the FTP
@@ -576,8 +653,8 @@ storing and updating secrets. The Vault key for this password will be something
 /galaxy/user/<user_id>/file_source_config/<file_source_instance_uuid>/password
 ```
 
-Here ``user_id`` is the primary key of the User object in the database and 
-``file_source_instance_uuid`` is the ``uuid`` value corresponding to the ``user_file_source``
+Here `user_id` is the primary key of the User object in the database and
+`file_source_instance_uuid` is the `uuid` value corresponding to the `user_file_source`
 table in the database.
 
 User defined object stores are stored in a similar fashion but at:
@@ -597,19 +674,19 @@ individually in the "Secrets" tab.
 
 ![](config-template-secrets-edit.png)
 
-
 (admin-secrets)=
+
 ### Admin Secrets
 
 Administrators may define secrets that are available to all users and aren't parameterized
 on a per-instance basis. These secrets can be injected into template instances through Vault
 keys or through environment variables.
 
-Each template may optionally define an ``environment`` key where these can be defined. The
+Each template may optionally define an `environment` key where these can be defined. The
 following template entry describes a file source that injects the environment variable
-``GALAXY_SECRET_HOME_VAR`` into the template as ``environment.var`` and injects the Vault
-key ``secret_directory_file_source/my_secret`` into the template as ``environment.var``.
-This template uses these variables to construct a root path for a ``posix`` file source
+`GALAXY_SECRET_HOME_VAR` into the template as `environment.var` and injects the Vault
+key `secret_directory_file_source/my_secret` into the template as `environment.var`.
+This template uses these variables to construct a root path for a `posix` file source
 but the same secrets could just as easily store cloud keys and configure an S3 object store.
 
 ```{literalinclude} ../../../lib/galaxy/files/templates/examples/admin_secrets.yml
@@ -618,10 +695,77 @@ but the same secrets could just as easily store cloud keys and configure an S3 o
 
 If you'd like to make the target secrets optional, default values can also be setup.
 The following block demonstrates the same configuration but with default values of
-``default_var`` for the default ``var`` value and ``default_sec`` for the default ``sec``
+`default_var` for the default `var` value and `default_sec` for the default `sec`
 value. These will be used in the target Vault keys are absent or the target environment
 variable is not defined at runtime.
 
 ```{literalinclude} ../../../lib/galaxy/files/templates/examples/admin_secrets_with_defaults.yml
 :language: yaml
 ```
+
+## OAuth 2.0 Enabled Configurations
+
+[OAuth 2.0](https://oauth.net/2/) has become an industry standard for allowing users
+of various services (e.g. Dropbox or Google Drive) to authorize other services (e.g. Galaxy)
+fine grained access to the services. There is a bit of a dance the services need to do
+but the result can be a fairly nice end-user experience. The framework for configuring
+user defined data access templates can support OAuth 2.0.
+
+Galaxy keeps track of which plugin `type`s (currently only file source types) require
+OAuth2 to work properly and will take care of authorization redirection, saving refresh tokens,
+etc.. implicitly. One such `type` is `dropbox`. Here is the production Dropbox
+template distributed with Galaxy.
+
+```{literalinclude} ../../../lib/galaxy/files/templates/examples/production_dropbox.yml
+:language: yaml
+```
+
+OAuth2 enabled plugin types include template definitions that include `oauth2_client_id`
+and `oauth2_client_secret` in the configuration (as shown in the following specification
+and in the above examples).
+
+![](file_source_dropbox_configuration_template.png)
+
+The above example defines these secrets using environment variables but they can stored in
+Galaxy's Vault explicitly by the admin or written right to the configuration files as shown
+in the next two examples:
+
+```{literalinclude} ../../../lib/galaxy/files/templates/examples/dropbox_client_secrets_in_vault.yml
+:language: yaml
+```
+
+```{literalinclude} ../../../lib/galaxy/files/templates/examples/dropbox_client_secrets_explicit.yml
+:language: yaml
+```
+
+Looking at the configuration objects that get generated at runtime
+from these templates though - `oauth2_client_id` and `oauth2_client_secret` no longer
+appear and instead have been replaced with a `oauth2_access_token` parameter.
+Galaxy will take care of stripping out the client (e.g. Galaxy server) information and
+replacing it with short-term access tokens generated for the user's resources.
+
+![](file_source_dropbox_configuration.png)
+
+Normally, a UUID is created for each user configured instance object and this is used
+to store the template's explicitly listed secrets in Galaxy's Vault. For OAuth 2.0
+plugin types - before user's are even prompted for configuration metadata they are redirected
+to the remote service and prompted to authorize Galaxy to act on their behalf when using
+the remote service. If they authorize this, the remote service will send an [`authorization
+code`](https://oauth.net/2/grant-types/authorization-code/) to `https://<galaxy_url>/oauth2_callback` along with state information
+to recover which instance is being configured. At this point, Galaxy will fetch a [`refresh token`](https://oauth.net/2/refresh-tokens/) from the remote resource using the
+supplied authorization code. The refresh token is stored in the Vault in key associated with
+the UUID of the object that will be created when the user finishes the creation process.
+Specifically it is stored at
+
+```
+/galaxy/user/<user_id>/file_source_config/<file_source_instance_uuid>/_oauth2_refresh_token
+```
+
+Here is the prefix at the end of `_` is indicating that Galaxy is managing this instead of
+it being listed explicitly in a `secrets` section of the template configuration like the
+explicit Vault secrets discussed in this document.
+
+Galaxy knows how to fetch an [`access token`](https://oauth.net/2/access-tokens/) from this
+refresh token that is actually used to interact with the remote resource. This is the property
+`oauth2_access_token` that is injected into the configuration object shown above and passed
+along to the actual object store or file source plugin implementation.
diff --git a/doc/source/admin/dropbox_callback.png b/doc/source/admin/dropbox_callback.png
new file mode 100644
index 000000000000..0125e94fec45
Binary files /dev/null and b/doc/source/admin/dropbox_callback.png differ
diff --git a/doc/source/admin/dropbox_client_creds.png b/doc/source/admin/dropbox_client_creds.png
new file mode 100644
index 000000000000..3a029cd3c85a
Binary files /dev/null and b/doc/source/admin/dropbox_client_creds.png differ
diff --git a/doc/source/admin/dropbox_create_app_options_1.png b/doc/source/admin/dropbox_create_app_options_1.png
new file mode 100644
index 000000000000..839060a05783
Binary files /dev/null and b/doc/source/admin/dropbox_create_app_options_1.png differ
diff --git a/doc/source/admin/dropbox_create_button.png b/doc/source/admin/dropbox_create_button.png
new file mode 100644
index 000000000000..6082eb174981
Binary files /dev/null and b/doc/source/admin/dropbox_create_button.png differ
diff --git a/doc/source/admin/dropbox_scopes.png b/doc/source/admin/dropbox_scopes.png
new file mode 100644
index 000000000000..5a2643d0a0ff
Binary files /dev/null and b/doc/source/admin/dropbox_scopes.png differ
diff --git a/doc/source/admin/file_source_azure_configuration.png b/doc/source/admin/file_source_azure_configuration.png
index 99aa460e639a..e9e778a32a93 100644
Binary files a/doc/source/admin/file_source_azure_configuration.png and b/doc/source/admin/file_source_azure_configuration.png differ
diff --git a/doc/source/admin/file_source_azure_configuration_template.png b/doc/source/admin/file_source_azure_configuration_template.png
index dbc8844ac193..ec5e39dde8f1 100644
Binary files a/doc/source/admin/file_source_azure_configuration_template.png and b/doc/source/admin/file_source_azure_configuration_template.png differ
diff --git a/doc/source/admin/file_source_dropbox_configuration.png b/doc/source/admin/file_source_dropbox_configuration.png
new file mode 100644
index 000000000000..28381b34c7e5
Binary files /dev/null and b/doc/source/admin/file_source_dropbox_configuration.png differ
diff --git a/doc/source/admin/file_source_dropbox_configuration_template.png b/doc/source/admin/file_source_dropbox_configuration_template.png
new file mode 100644
index 000000000000..55763c354c11
Binary files /dev/null and b/doc/source/admin/file_source_dropbox_configuration_template.png differ
diff --git a/doc/source/admin/file_source_ftp_configuration.png b/doc/source/admin/file_source_ftp_configuration.png
index 72f93e280fd7..712685ce9f56 100644
Binary files a/doc/source/admin/file_source_ftp_configuration.png and b/doc/source/admin/file_source_ftp_configuration.png differ
diff --git a/doc/source/admin/file_source_ftp_configuration_template.png b/doc/source/admin/file_source_ftp_configuration_template.png
index ad8bc5553461..83ef71139b52 100644
Binary files a/doc/source/admin/file_source_ftp_configuration_template.png and b/doc/source/admin/file_source_ftp_configuration_template.png differ
diff --git a/doc/source/admin/file_source_posix_configuration.png b/doc/source/admin/file_source_posix_configuration.png
index 4fcd0a0e7f5a..9186f93be05b 100644
Binary files a/doc/source/admin/file_source_posix_configuration.png and b/doc/source/admin/file_source_posix_configuration.png differ
diff --git a/doc/source/admin/file_source_posix_configuration_template.png b/doc/source/admin/file_source_posix_configuration_template.png
index 6559a0f8ac13..b789ddd91080 100644
Binary files a/doc/source/admin/file_source_posix_configuration_template.png and b/doc/source/admin/file_source_posix_configuration_template.png differ
diff --git a/doc/source/admin/file_source_s3fs_configuration.png b/doc/source/admin/file_source_s3fs_configuration.png
index bc3df24731c6..f4b0167318af 100644
Binary files a/doc/source/admin/file_source_s3fs_configuration.png and b/doc/source/admin/file_source_s3fs_configuration.png differ
diff --git a/doc/source/admin/file_source_s3fs_configuration_template.png b/doc/source/admin/file_source_s3fs_configuration_template.png
index f940d5485e91..1848d1076736 100644
Binary files a/doc/source/admin/file_source_s3fs_configuration_template.png and b/doc/source/admin/file_source_s3fs_configuration_template.png differ
diff --git a/doc/source/admin/file_source_templates.png b/doc/source/admin/file_source_templates.png
index 8e3c3fabe39e..fd48cee0eeef 100644
Binary files a/doc/source/admin/file_source_templates.png and b/doc/source/admin/file_source_templates.png differ
diff --git a/doc/source/admin/file_source_webdav_configuration.png b/doc/source/admin/file_source_webdav_configuration.png
index 26ec57bd246d..1f636147d6fa 100644
Binary files a/doc/source/admin/file_source_webdav_configuration.png and b/doc/source/admin/file_source_webdav_configuration.png differ
diff --git a/doc/source/admin/file_source_webdav_configuration_template.png b/doc/source/admin/file_source_webdav_configuration_template.png
index 4684e8f05b8a..26f709677b71 100644
Binary files a/doc/source/admin/file_source_webdav_configuration_template.png and b/doc/source/admin/file_source_webdav_configuration_template.png differ
diff --git a/doc/source/admin/gen_diagrams.py b/doc/source/admin/gen_diagrams.py
index 108876b97faa..3e1d57a53be4 100644
--- a/doc/source/admin/gen_diagrams.py
+++ b/doc/source/admin/gen_diagrams.py
@@ -8,6 +8,8 @@
 from galaxy.files.templates.models import (
     AzureFileSourceConfiguration,
     AzureFileSourceTemplateConfiguration,
+    DropboxFileSourceConfiguration,
+    DropboxFileSourceTemplateConfiguration,
     FileSourceTemplate,
     FtpFileSourceConfiguration,
     FtpFileSourceTemplateConfiguration,
@@ -49,6 +51,8 @@
     FileSourceTemplate: "file_source_templates",
     AzureFileSourceTemplateConfiguration: "file_source_azure_configuration_template",
     AzureFileSourceConfiguration: "file_source_azure_configuration",
+    DropboxFileSourceTemplateConfiguration: "file_source_dropbox_configuration_template",
+    DropboxFileSourceConfiguration: "file_source_dropbox_configuration",
     PosixFileSourceTemplateConfiguration: "file_source_posix_configuration_template",
     PosixFileSourceConfiguration: "file_source_posix_configuration",
     S3FSFileSourceTemplateConfiguration: "file_source_s3fs_configuration_template",
diff --git a/doc/source/admin/object_store_aws_s3_configuration.png b/doc/source/admin/object_store_aws_s3_configuration.png
index a9ae47e10ba6..9bc92de4ac71 100644
Binary files a/doc/source/admin/object_store_aws_s3_configuration.png and b/doc/source/admin/object_store_aws_s3_configuration.png differ
diff --git a/doc/source/admin/object_store_aws_s3_configuration_template.png b/doc/source/admin/object_store_aws_s3_configuration_template.png
index f93317fcad2c..af56e388c429 100644
Binary files a/doc/source/admin/object_store_aws_s3_configuration_template.png and b/doc/source/admin/object_store_aws_s3_configuration_template.png differ
diff --git a/doc/source/admin/object_store_azure_configuration.png b/doc/source/admin/object_store_azure_configuration.png
index bbf2528f772c..edbed59cda88 100644
Binary files a/doc/source/admin/object_store_azure_configuration.png and b/doc/source/admin/object_store_azure_configuration.png differ
diff --git a/doc/source/admin/object_store_azure_configuration_template.png b/doc/source/admin/object_store_azure_configuration_template.png
index be8638df56d2..df95f911f226 100644
Binary files a/doc/source/admin/object_store_azure_configuration_template.png and b/doc/source/admin/object_store_azure_configuration_template.png differ
diff --git a/doc/source/admin/object_store_boto3_configuration.png b/doc/source/admin/object_store_boto3_configuration.png
index cd8d8ef4ef0a..71b92a84c42f 100644
Binary files a/doc/source/admin/object_store_boto3_configuration.png and b/doc/source/admin/object_store_boto3_configuration.png differ
diff --git a/doc/source/admin/object_store_boto3_configuration_template.png b/doc/source/admin/object_store_boto3_configuration_template.png
index f78958689586..ecc9b27ef6db 100644
Binary files a/doc/source/admin/object_store_boto3_configuration_template.png and b/doc/source/admin/object_store_boto3_configuration_template.png differ
diff --git a/doc/source/admin/object_store_disk_configuration.png b/doc/source/admin/object_store_disk_configuration.png
index 836e13d6f59a..fe95bd28f70a 100644
Binary files a/doc/source/admin/object_store_disk_configuration.png and b/doc/source/admin/object_store_disk_configuration.png differ
diff --git a/doc/source/admin/object_store_disk_configuration_template.png b/doc/source/admin/object_store_disk_configuration_template.png
index d851772ed422..f9868ee22091 100644
Binary files a/doc/source/admin/object_store_disk_configuration_template.png and b/doc/source/admin/object_store_disk_configuration_template.png differ
diff --git a/doc/source/admin/object_store_generic_s3_configuration.png b/doc/source/admin/object_store_generic_s3_configuration.png
index 7e545feda792..c4d9157638af 100644
Binary files a/doc/source/admin/object_store_generic_s3_configuration.png and b/doc/source/admin/object_store_generic_s3_configuration.png differ
diff --git a/doc/source/admin/object_store_generic_s3_configuration_template.png b/doc/source/admin/object_store_generic_s3_configuration_template.png
index 04b50dd5049e..678f1c7357fe 100644
Binary files a/doc/source/admin/object_store_generic_s3_configuration_template.png and b/doc/source/admin/object_store_generic_s3_configuration_template.png differ
diff --git a/doc/source/admin/object_store_templates.png b/doc/source/admin/object_store_templates.png
index a43b5acf260e..5c7e8d1bb71c 100644
Binary files a/doc/source/admin/object_store_templates.png and b/doc/source/admin/object_store_templates.png differ
diff --git a/lib/galaxy/app_unittest_utils/galaxy_mock.py b/lib/galaxy/app_unittest_utils/galaxy_mock.py
index 0fcec287878f..f709f213ead4 100644
--- a/lib/galaxy/app_unittest_utils/galaxy_mock.py
+++ b/lib/galaxy/app_unittest_utils/galaxy_mock.py
@@ -329,7 +329,7 @@ def __init__(self, app=None, user=None, history=None, **kwargs):
         self.security = self.app.security
         self.history = history
 
-        self.request: Any = Bunch(headers={}, is_body_readable=False, host="request.host")
+        self.request: Any = Bunch(headers={}, is_body_readable=False, host="request.host", url_path="mock/url/path")
         self.response: Any = Bunch(headers={}, set_content_type=lambda i: None)
 
     @property
diff --git a/lib/galaxy/files/sources/dropbox.py b/lib/galaxy/files/sources/dropbox.py
index 70c994e3e2e4..e8bad36d2812 100644
--- a/lib/galaxy/files/sources/dropbox.py
+++ b/lib/galaxy/files/sources/dropbox.py
@@ -30,6 +30,8 @@ def _open_fs(self, user_context=None, opts: Optional[FilesSourceOptions] = None)
         # accessToken has been renamed to access_token in fs.dropboxfs 1.0
         if "accessToken" in props:
             props["access_token"] = props.pop("accessToken")
+        if "oauth2_access_token" in props:
+            props["access_token"] = props.pop("oauth2_access_token")
 
         try:
             handle = DropboxFS(**{**props, **extra_props})
diff --git a/lib/galaxy/files/sources/googledrive.py b/lib/galaxy/files/sources/googledrive.py
index c5e777d6b78d..e809d4cd03bf 100644
--- a/lib/galaxy/files/sources/googledrive.py
+++ b/lib/galaxy/files/sources/googledrive.py
@@ -17,6 +17,9 @@ class GoogleDriveFilesSource(PyFilesystem2FilesSource):
 
     def _open_fs(self, user_context=None, opts: Optional[FilesSourceOptions] = None):
         props = self._serialization_props(user_context)
+        access_token = props.pop("oauth2_access_token")
+        if access_token:
+            props["token"] = access_token
         credentials = Credentials(**props)
         handle = GoogleDriveFS(credentials)
         return handle
diff --git a/lib/galaxy/files/templates/__init__.py b/lib/galaxy/files/templates/__init__.py
index aa8faf85fd30..2aef4eb906ed 100644
--- a/lib/galaxy/files/templates/__init__.py
+++ b/lib/galaxy/files/templates/__init__.py
@@ -4,6 +4,8 @@
     FileSourceTemplate,
     FileSourceTemplateSummaries,
     FileSourceTemplateType,
+    get_oauth2_config,
+    get_oauth2_config_or_none,
     template_to_configuration,
 )
 
@@ -13,5 +15,7 @@
     "FileSourceTemplate",
     "FileSourceTemplateSummaries",
     "FileSourceTemplateType",
+    "get_oauth2_config",
+    "get_oauth2_config_or_none",
     "template_to_configuration",
 )
diff --git a/lib/galaxy/files/templates/examples/dropbox_client_secrets_explicit.yml b/lib/galaxy/files/templates/examples/dropbox_client_secrets_explicit.yml
new file mode 100644
index 000000000000..4206e9997b62
--- /dev/null
+++ b/lib/galaxy/files/templates/examples/dropbox_client_secrets_explicit.yml
@@ -0,0 +1,7 @@
+- id: dropbox
+  name: Dropbox
+  description: Connect to your Dropbox account to download and upload files.
+  configuration:
+    type: dropbox
+    oauth2_client_id: abcdefgh
+    oauth2_client_secret: ijklmnopqr
diff --git a/lib/galaxy/files/templates/examples/dropbox_client_secrets_in_vault.yml b/lib/galaxy/files/templates/examples/dropbox_client_secrets_in_vault.yml
new file mode 100644
index 000000000000..4ed3be1ec510
--- /dev/null
+++ b/lib/galaxy/files/templates/examples/dropbox_client_secrets_in_vault.yml
@@ -0,0 +1,15 @@
+- id: dropbox
+  name: Dropbox
+  description: Connect to your Dropbox account to download and upload files.
+  configuration:
+    type: dropbox
+    oauth2_client_id: "{{ environment.oauth2_client_id }}"
+    oauth2_client_secret: "{{ environment.oauth2_client_secret }}"
+    writable: true
+  environment:
+    oauth2_client_id:
+      type: secret
+      vault_key: "dropbox_file_source/client_id"
+    oauth2_client_secret:
+      type: secret
+      vault_key: "dropbox_file_source/client_secret"
diff --git a/lib/galaxy/files/templates/examples/production_dropbox.yml b/lib/galaxy/files/templates/examples/production_dropbox.yml
new file mode 100644
index 000000000000..61ac82ad1041
--- /dev/null
+++ b/lib/galaxy/files/templates/examples/production_dropbox.yml
@@ -0,0 +1,15 @@
+- id: dropbox
+  name: Dropbox
+  description: Connect to your Dropbox account to download and upload files.
+  configuration:
+    type: dropbox
+    oauth2_client_id: "{{ environment.oauth2_client_id }}"
+    oauth2_client_secret: "{{ environment.oauth2_client_secret }}"
+    writable: true
+  environment:
+    oauth2_client_id:
+      type: variable
+      variable: GALAXY_DROPBOX_APP_CLIENT_ID
+    oauth2_client_secret:
+      type: variable
+      variable: GALAXY_DROPBOX_APP_CLIENT_SECRET
diff --git a/lib/galaxy/files/templates/examples/production_google_drive.yml b/lib/galaxy/files/templates/examples/production_google_drive.yml
new file mode 100644
index 000000000000..164b162ef386
--- /dev/null
+++ b/lib/galaxy/files/templates/examples/production_google_drive.yml
@@ -0,0 +1,15 @@
+- id: google_drive
+  name: Export to Google Drive
+  description: This file source allows export to your Google Drive but can only read files uploaded by this Galaxy instance.
+  configuration:
+    type: googledrive
+    oauth2_client_id: "{{ environment.oauth2_client_id }}"
+    oauth2_client_secret: "{{ environment.oauth2_client_secret }}"
+    writable: true
+  environment:
+    oauth2_client_id:
+      type: variable
+      variable: GALAXY_GOOGLE_DRIVE_APP_CLIENT_ID
+    oauth2_client_secret:
+      type: variable
+      variable: GALAXY_GOOGLE_DRIVE_APP_CLIENT_SECRET
diff --git a/lib/galaxy/files/templates/models.py b/lib/galaxy/files/templates/models.py
index bff512f130ca..967d83ea0894 100644
--- a/lib/galaxy/files/templates/models.py
+++ b/lib/galaxy/files/templates/models.py
@@ -11,9 +11,14 @@
 from pydantic import RootModel
 
 from galaxy.util.config_templates import (
+    ConfiguredOAuth2Sources,
     EnvironmentDict,
     expand_raw_config,
+    get_oauth2_config_from,
+    ImplicitConfigurationParameters,
     MarkdownContent,
+    merge_implicit_parameters,
+    OAuth2Configuration,
     populate_default_variables,
     SecretsDict,
     StrictModel,
@@ -25,7 +30,7 @@
     UserDetailsDict,
 )
 
-FileSourceTemplateType = Literal["ftp", "posix", "s3fs", "azure", "onedata", "webdav"]
+FileSourceTemplateType = Literal["ftp", "posix", "s3fs", "azure", "onedata", "webdav", "dropbox", "googledrive"]
 
 
 class PosixFileSourceTemplateConfiguration(StrictModel):
@@ -42,6 +47,54 @@ class PosixFileSourceConfiguration(StrictModel):
     writable: bool = False
 
 
+class OAuth2TemplateConfiguration:
+    oauth2_client_id: Union[str, TemplateExpansion]
+    oauth2_client_secret: Union[str, TemplateExpansion]
+
+
+class DropboxFileSourceTemplateConfiguration(OAuth2TemplateConfiguration, StrictModel):
+    type: Literal["dropbox"]
+    writable: Union[bool, TemplateExpansion] = False
+    oauth2_client_id: Union[str, TemplateExpansion]
+    oauth2_client_secret: Union[str, TemplateExpansion]
+    template_start: Optional[str] = None
+    template_end: Optional[str] = None
+
+
+class OAuth2FileSourceConfiguration:
+    oauth2_access_token: str
+
+
+class DropboxFileSourceConfiguration(OAuth2FileSourceConfiguration, StrictModel):
+    type: Literal["dropbox"]
+    writable: bool = False
+    oauth2_access_token: str
+
+
+class GoogleDriveFileSourceTemplateConfiguration(OAuth2TemplateConfiguration, StrictModel):
+    type: Literal["googledrive"]
+    writable: Union[bool, TemplateExpansion] = False
+    oauth2_client_id: Union[str, TemplateExpansion]
+    oauth2_client_secret: Union[str, TemplateExpansion]
+    # Will default to https://www.googleapis.com/auth/drive.file, which provides
+    # access to a folder specific to your Galaxy instance. Ideally we would use
+    # https://www.googleapis.com/auth/drive but that would require becoming
+    # Google verified - https://support.google.com/cloud/answer/13464321#ss-rs-requirements.
+    # That seems like a onerous process and I don't know how it would
+    # work in the context of an open source project like Galaxy, I am
+    # adding the extension point here for the brave individual that would like
+    # to use it but I expect it isn't practical for the typical admin.
+    oauth2_scope: Optional[Union[str, TemplateExpansion]] = None
+    template_start: Optional[str] = None
+    template_end: Optional[str] = None
+
+
+class GoogleDriveFileSourceConfiguration(OAuth2FileSourceConfiguration, StrictModel):
+    type: Literal["googledrive"]
+    writable: bool = False
+    oauth2_access_token: str
+
+
 class S3FSFileSourceTemplateConfiguration(StrictModel):
     type: Literal["s3fs"]
     endpoint_url: Optional[Union[str, TemplateExpansion]] = None
@@ -149,6 +202,8 @@ class WebdavFileSourceConfiguration(StrictModel):
     AzureFileSourceTemplateConfiguration,
     OnedataFileSourceTemplateConfiguration,
     WebdavFileSourceTemplateConfiguration,
+    DropboxFileSourceTemplateConfiguration,
+    GoogleDriveFileSourceTemplateConfiguration,
 ]
 FileSourceConfiguration = Union[
     PosixFileSourceConfiguration,
@@ -157,6 +212,8 @@ class WebdavFileSourceConfiguration(StrictModel):
     AzureFileSourceConfiguration,
     OnedataFileSourceConfiguration,
     WebdavFileSourceConfiguration,
+    DropboxFileSourceConfiguration,
+    GoogleDriveFileSourceConfiguration,
 ]
 
 
@@ -191,6 +248,10 @@ class FileSourceTemplate(FileSourceTemplateBase):
     configuration: FileSourceTemplateConfiguration
     environment: Optional[List[TemplateEnvironmentEntry]] = None
 
+    @property
+    def type(self):
+        return self.configuration.type
+
 
 FileSourceTemplateCatalog = RootModel[List[FileSourceTemplate]]
 
@@ -205,10 +266,12 @@ def template_to_configuration(
     secrets: SecretsDict,
     user_details: UserDetailsDict,
     environment: EnvironmentDict,
+    implicit: Optional[ImplicitConfigurationParameters] = None,
 ) -> FileSourceConfiguration:
     configuration_template = template.configuration
     populate_default_variables(template.variables, variables)
     raw_config = expand_raw_config(configuration_template, variables, secrets, user_details, environment)
+    merge_implicit_parameters(raw_config, implicit)
     return to_configuration_object(raw_config)
 
 
@@ -219,9 +282,36 @@ def template_to_configuration(
     "azure": AzureFileSourceConfiguration,
     "onedata": OnedataFileSourceConfiguration,
     "webdav": WebdavFileSourceConfiguration,
+    "dropbox": DropboxFileSourceConfiguration,
+    "googledrive": GoogleDriveFileSourceConfiguration,
 }
 
 
+OAUTH2_CONFIGURED_SOURCES: ConfiguredOAuth2Sources = {
+    "dropbox": OAuth2Configuration(
+        authorize_url="https://www.dropbox.com/oauth2/authorize",
+        authorize_params={"token_access_type": "offline"},
+        token_url="https://api.dropbox.com/oauth2/token",
+    ),
+    "googledrive": OAuth2Configuration(
+        authorize_url="https://accounts.google.com/o/oauth2/v2/auth",
+        authorize_params={"access_type": "offline", "prompt": "consent"},
+        token_url="https://oauth2.googleapis.com/token",
+        scope="https://www.googleapis.com/auth/drive.file",
+    ),
+}
+
+
+def get_oauth2_config(template: FileSourceTemplate) -> OAuth2Configuration:
+    return get_oauth2_config_from(template, OAUTH2_CONFIGURED_SOURCES)
+
+
+def get_oauth2_config_or_none(template: FileSourceTemplate) -> Optional[OAuth2Configuration]:
+    if template.configuration.type not in OAUTH2_CONFIGURED_SOURCES:
+        return None
+    return get_oauth2_config(template)
+
+
 def to_configuration_object(configuration_dict: Dict[str, Any]) -> FileSourceConfiguration:
     if "type" not in configuration_dict:
         raise KeyError("Configuration objects require a file source 'type' key, none found.")
diff --git a/lib/galaxy/managers/_config_templates.py b/lib/galaxy/managers/_config_templates.py
index 2b0583a4c887..22d798a22076 100644
--- a/lib/galaxy/managers/_config_templates.py
+++ b/lib/galaxy/managers/_config_templates.py
@@ -1,17 +1,24 @@
 import logging
 import os
 from typing import (
+    Any,
     cast,
     Dict,
     List,
     Optional,
+    Type,
     TypeVar,
     Union,
 )
 
-from pydantic import BaseModel
+from pydantic import (
+    BaseModel,
+    UUID4,
+)
+from typing_extensions import TypedDict
 
 from galaxy.exceptions import (
+    InconsistentDatabase,
     ObjectNotFound,
     RequestParameterInvalidException,
     RequestParameterMissingException,
@@ -30,19 +37,26 @@
     UserVaultWrapper,
     Vault,
 )
+from galaxy.util import config_templates  # defer get_token_from_refresh_raw access for monkey patching
 from galaxy.util.config_templates import (
     EnvironmentDict,
     find_template_by,
+    ImplicitConfigurationParameters,
+    OAuth2ClientPair,
+    OAuth2Configuration,
+    PluginAspectStatus,
     secrets_as_dict,
     SecretsDict,
     Template,
     TemplateEnvironmentEntry,
     TemplateEnvironmentSecret,
     TemplateEnvironmentVariable,
+    TemplateReference,
     TemplateVariableValueType,
     validate_no_extra_variables_defined,
     validate_specified_datatypes_variables,
 )
+from galaxy.work.context import SessionRequestContext
 
 log = logging.getLogger(__name__)
 
@@ -57,6 +71,7 @@ class CreateInstancePayload(BaseModel):
     template_version: int
     variables: SuppliedVariables
     secrets: SuppliedSecrets
+    uuid: Optional[UUID4] = None
 
 
 class UpdateInstancePayload(BaseModel):
@@ -78,14 +93,56 @@ class UpgradeInstancePayload(BaseModel):
     secrets: SuppliedSecrets
 
 
+class TestUpdateInstancePayload(BaseModel):
+    variables: Optional[SuppliedVariables] = None
+
+
+class TestUpgradeInstancePayload(BaseModel):
+    template_version: int
+    variables: SuppliedVariables
+    secrets: SuppliedSecrets
+
+
+class UpgradeTestTarget:
+    instance: HasConfigTemplate
+    payload: TestUpgradeInstancePayload
+
+    def __init__(self, instance: HasConfigTemplate, payload: TestUpgradeInstancePayload):
+        self.instance = instance
+        self.payload = payload
+
+
+class UpdateTestTarget:
+    instance: HasConfigTemplate
+    payload: TestUpdateInstancePayload
+
+    def __init__(self, instance: HasConfigTemplate, payload: TestUpdateInstancePayload):
+        self.instance = instance
+        self.payload = payload
+
+
+class CreateTestTarget:
+    payload: CreateInstancePayload
+    instance_class: Type[HasConfigSecrets]
+
+    def __init__(self, payload: CreateInstancePayload, instance_class: Type[HasConfigSecrets]):
+        self.payload = payload
+        self.instance_class = instance_class
+
+
 ModifyInstancePayload = Union[UpdateInstanceSecretPayload, UpgradeInstancePayload, UpdateInstancePayload]
+TestModifyInstancePayload = Union[TestUpgradeInstancePayload, TestUpdateInstancePayload]
+CanTestPluginStatus = Union[HasConfigTemplate, CreateTestTarget, UpgradeTestTarget, UpdateTestTarget]
 
 
 def recover_secrets(
-    user_object_store: HasConfigSecrets, vault: Vault, app_config: UsesTemplatesAppConfig
+    user_object_store: HasConfigSecrets, vault: Union[UserVaultWrapper, Vault], app_config: UsesTemplatesAppConfig
 ) -> SecretsDict:
-    user: User = user_object_store.user
-    user_vault = UserVaultWrapper(vault, user)
+    if isinstance(vault, UserVaultWrapper):
+        user_vault = vault
+    else:
+        user: User = user_object_store.user
+        user_vault = UserVaultWrapper(vault, user)
     secrets: SecretsDict = {}
     # now we could recover the list of secrets to fetch from...
     # ones recorded as written in the persisted object, the ones
@@ -100,6 +157,111 @@ def recover_secrets(
     return secrets
 
 
+class TemplateParameters(TypedDict):
+    secrets: SuppliedSecrets
+    variables: SuppliedVariables
+    environment: EnvironmentDict
+    user_details: Dict[str, Any]
+    implicit: Optional[ImplicitConfigurationParameters]
+
+
+class TemplateServerConfiguration:
+    """Extra configuration relevant to a given template.
+
+    For state defined in the server but not defined in the template JSON/YAML directly.
+    Currently this only contains optional oauth2 client credentials and oauth2 configuration
+    information (provider URLs and provider specific configuration for the oauth2 flow).
+    """
+
+    oauth2_client_pair: Optional[OAuth2ClientPair]
+    oauth2_configuration: Optional[OAuth2Configuration]
+
+    def __init__(
+        self,
+        oauth2_client_pair: Optional[OAuth2ClientPair] = None,
+        oauth2_configuration: Optional[OAuth2Configuration] = None,
+        oauth2_scope: Optional[str] = None,
+    ):
+        self.oauth2_client_pair = oauth2_client_pair
+        self.oauth2_configuration = oauth2_configuration
+        self.oauth2_scope = oauth2_scope
+
+    @property
+    def uses_oauth2(self):
+        return self.oauth2_configuration is not None
+
+
+def prepare_template_parameters_for_testing(
+    trans: ProvidesUserContext,
+    template: Template,
+    template_server_configuration: TemplateServerConfiguration,
+    target: CanTestPluginStatus,
+    vault: Vault,
+    app_config: UsesTemplatesAppConfig,
+) -> TemplateParameters:
+    secrets = _secrets_for_plugin_status_test(target, trans.user_vault, app_config)
+    variables = _variables_for_plugin_status_test(target)
+    environment = prepare_environment_from_root(template.environment, vault, app_config)
+    user_details = trans.user.config_template_details()
+    implicit = implicit_parameters_for_testing(
+        trans,
+        template_server_configuration,
+        target,
+        app_config,
+    )
+    return TemplateParameters(
+        {
+            "secrets": secrets,
+            "variables": variables,
+            "environment": environment,
+            "user_details": user_details,
+            "implicit": implicit,
+        }
+    )
+
+
+def _variables_for_plugin_status_test(target: CanTestPluginStatus) -> SuppliedVariables:
+    if isinstance(target, CreateTestTarget):
+        return target.payload.variables
+    elif isinstance(target, UpgradeTestTarget) or isinstance(target, UpdateTestTarget):
+        if target.instance.template_variables:
+            variables = target.instance.template_variables.copy()
+        else:
+            variables = {}
+        new_variables = target.payload.variables or {}
+        for new_variable in new_variables:
+            variables[new_variable] = new_variables[new_variable]
+        return new_variables
+    else:
+        return target.template_variables or {}
+
+
+def _secrets_for_plugin_status_test(
+    target: CanTestPluginStatus, user_vault: UserVaultWrapper, app_config: UsesTemplatesAppConfig
+) -> SecretsDict:
+    if isinstance(target, CreateTestTarget):
+        payload = target.payload
+        secrets = payload.secrets.copy()
+        return secrets
+    elif isinstance(target, UpgradeTestTarget):
+        secrets = recover_secrets(target.instance, user_vault, app_config)
+        new_secrets = target.payload.secrets or {}
+        for new_secret in new_secrets:
+            secrets[new_secret] = new_secrets[new_secret]
+        return secrets
+    elif isinstance(target, UpdateTestTarget):
+        secrets = recover_secrets(target.instance, user_vault, app_config)
+        return secrets
+    else:
+        secrets = recover_secrets(target, user_vault, app_config)
+        return secrets
+
+
+def to_template_reference(persisted_instance: HasConfigTemplate) -> TemplateReference:
+    # for mypy convert Mapped[X] -> X
+    return cast(TemplateReference, persisted_instance)
+
+
 def prepare_environment(
     configuration_template: HasConfigEnvironment, vault: Vault, app_config: UsesTemplatesAppConfig
 ) -> EnvironmentDict:
@@ -108,7 +270,7 @@ def prepare_environment(
 
 def prepare_environment_from_root(
     root: Optional[List[TemplateEnvironmentEntry]], vault: Vault, app_config: UsesTemplatesAppConfig
-):
+) -> EnvironmentDict:
     environment: EnvironmentDict = {}
     for environment_entry in root or []:
         e_type = environment_entry.type
@@ -279,3 +441,95 @@ def sort_templates(config, catalog: List[T], instance: HasConfigTemplate) -> Lis
     else:
         templates = [stored_template]
     return templates
+
+
+def implicit_parameters_for_testing(
+    trans: ProvidesUserContext,
+    template_server_configuration: TemplateServerConfiguration,
+    target: CanTestPluginStatus,
+    app_config: UsesTemplatesAppConfig,
+) -> Optional[ImplicitConfigurationParameters]:
+    implicit: ImplicitConfigurationParameters = {}
+    if template_server_configuration.oauth2_configuration:
+        refresh_token_key = None
+        oauth2_refresh_token = None
+        if isinstance(target, CreateTestTarget):
+            if target.payload.uuid:
+                refresh_token_key = target.instance_class.vault_key_from_uuid(
+                    target.payload.uuid, "_oauth2_refresh_token", app_config
+                )
+        else:
+            if isinstance(target, (UpgradeTestTarget, UpdateTestTarget)):
+                instance = target.instance
+            else:
+                instance = target
+            refresh_token_key = instance.vault_key_from_uuid(instance.uuid, "_oauth2_refresh_token", app_config)
+        oauth2_refresh_token = trans.user_vault.read_secret(refresh_token_key)
+        if not oauth2_refresh_token:
+            raise InconsistentDatabase(
+                f"Failed to recover oauth2 refresh token from vault at location {refresh_token_key}, Galaxy is in an inconsistent state and probably requires admin intervention"
+            )
+        _inject_oauth2_access_token(implicit, oauth2_refresh_token, template_server_configuration)
+
+    return implicit
+
+
+def implicit_parameters_for_instance(
+    user_instance: HasConfigSecrets,
+    template_server_configuration: TemplateServerConfiguration,
+    vault: Vault,
+    app_config: UsesTemplatesAppConfig,
+) -> ImplicitConfigurationParameters:
+    implicit: ImplicitConfigurationParameters = {}
+
+    if template_server_configuration.oauth2_configuration:
+        refresh_token_key = user_instance.__class__.vault_key_from_uuid(
+            str(user_instance.uuid), "_oauth2_refresh_token", app_config
+        )
+        user_vault = UserVaultWrapper(vault, user_instance.user)
+        oauth2_refresh_token = user_vault.read_secret(refresh_token_key)
+        if not oauth2_refresh_token:
+            raise Exception("null refresh token key read from user vault")
+        _inject_oauth2_access_token(implicit, oauth2_refresh_token, template_server_configuration)
+
+    return implicit
+
+
+def _inject_oauth2_access_token(
+    implicit: ImplicitConfigurationParameters,
+    oauth2_refresh_token: str,
+    template_server_configuration: TemplateServerConfiguration,
+) -> None:
+    oauth2_client_pair = template_server_configuration.oauth2_client_pair
+    oauth2_configuration = template_server_configuration.oauth2_configuration
+    assert oauth2_client_pair
+    assert oauth2_configuration
+    response = config_templates.get_token_from_refresh_raw(
+        oauth2_refresh_token, oauth2_client_pair, oauth2_configuration
+    )
+    response.raise_for_status()
+    implicit["oauth2_access_token"] = response.json()["access_token"]
+
+
+def oauth2_refresh_token_status(
+    template_server_configuration: TemplateServerConfiguration, exception: Optional[Exception]
+) -> Optional[PluginAspectStatus]:
+    if not template_server_configuration.uses_oauth2:
+        # no oauth enabled, don't report a status associated with
+        return None
+    else:
+        if not exception:
+            return PluginAspectStatus(
+                state="ok", message="OAuth2 secret refresh token generated an access token for this resource"
+            )
+        else:
+            return PluginAspectStatus(
+                state="not_ok",
+                message=f"OAuth2 secret refresh token failed to generate an access token for this resource: {exception}",
+            )
+
+
+def oauth2_redirect_uri(trans: SessionRequestContext) -> str:
+    galaxy_root = trans.request.url_path
+    redirect_uri = f"{galaxy_root}oauth2_callback"
+    return redirect_uri
diff --git a/lib/galaxy/managers/file_source_instances.py b/lib/galaxy/managers/file_source_instances.py
index f364110828cd..4572eafc8c66 100644
--- a/lib/galaxy/managers/file_source_instances.py
+++ b/lib/galaxy/managers/file_source_instances.py
@@ -8,6 +8,7 @@
     Optional,
     Set,
     Tuple,
+    Union,
 )
 from uuid import uuid4
 
@@ -18,8 +19,11 @@
 )
 
 from galaxy.exceptions import (
+    Conflict,
     ItemOwnershipException,
+    ObjectNotFound,
     RequestParameterInvalidException,
+    RequestParameterMissingException,
 )
 from galaxy.files import (
     FileSourceScore,
@@ -44,6 +48,7 @@
     FileSourceTemplate,
     FileSourceTemplateSummaries,
     FileSourceTemplateType,
+    get_oauth2_config_or_none,
     template_to_configuration,
 )
 from galaxy.managers.context import ProvidesUserContext
@@ -52,34 +57,55 @@
     UserFileSource,
 )
 from galaxy.model.scoped_session import galaxy_scoped_session
+from galaxy.schema.schema import OAuth2State
 from galaxy.security.vault import Vault
+from galaxy.util import config_templates  # defer acess to a couple methods to allow monkeypatching in testing
 from galaxy.util.config_templates import (
     connection_exception_to_status,
+    get_authorize_url,
+    OAuth2Info,
     PluginAspectStatus,
     PluginStatus,
+    read_oauth2_info_from_configuration,
     settings_exception_to_status,
     status_template_definition,
+    TemplateReference,
     TemplateVariableValueType,
     validate_no_extra_secrets_defined,
     validate_no_extra_variables_defined,
 )
 from galaxy.util.plugin_config import plugin_source_from_dict
+from galaxy.work.context import SessionRequestContext
 from ._config_templates import (
+    CanTestPluginStatus,
     CreateInstancePayload,
+    CreateTestTarget,
+    implicit_parameters_for_instance,
     ModifyInstancePayload,
+    oauth2_redirect_uri,
+    oauth2_refresh_token_status,
     prepare_environment,
     prepare_environment_from_root,
+    prepare_template_parameters_for_testing,
     purge_template_instance,
     recover_secrets,
     save_template_instance,
     sort_templates,
+    TemplateParameters,
+    TemplateServerConfiguration,
+    TestModifyInstancePayload,
+    TestUpdateInstancePayload,
+    TestUpgradeInstancePayload,
+    to_template_reference,
     update_instance_secret,
     update_template_instance,
     updated_template_variables,
     UpdateInstancePayload,
     UpdateInstanceSecretPayload,
+    UpdateTestTarget,
     upgrade_secrets,
     UpgradeInstancePayload,
+    UpgradeTestTarget,
 )
 
 log = logging.getLogger(__name__)
@@ -139,6 +165,73 @@ def __init__(
     def summaries(self) -> FileSourceTemplateSummaries:
         return self._catalog.summaries
 
+    def template_oauth2(self, trans: SessionRequestContext, template_id: str, template_version: int) -> OAuth2Info:
+        redirect_uri = oauth2_redirect_uri(trans)
+        template_server_configuration = self._resolver.template_server_configuration(
+            trans.user, template_id, template_version
+        )
+        if template_server_configuration.oauth2_client_pair is None:
+            raise ObjectNotFound(f"Could not find oauth2 configuration for specified plugin template id {template_id}")
+
+        oauth2_configuration = template_server_configuration.oauth2_configuration
+        if not oauth2_configuration:
+            raise Exception(
+                "Configuration error - attempting to template an oauth2 configuration but not configuration found."
+            )
+
+        state = OAuth2State(
+            route=f"file_source_instances/{template_id}/{template_version}",
+            nonce="TODO",
+        ).encode()
+        return OAuth2Info(
+            authorize_url=get_authorize_url(
+                template_server_configuration.oauth2_client_pair,
+                oauth2_configuration,
+                redirect_uri=redirect_uri,
+                state=state,
+                scope=template_server_configuration.oauth2_scope,
+            )
+        )
+
+    def handle_authorization_code(self, trans: SessionRequestContext, code: str, state: OAuth2State) -> str:
+        route = state.route
+        _, template_id, template_version = route.split("/", 3)
+        redirect_uri = oauth2_redirect_uri(trans)
+        template_server_configuration = self._resolver.template_server_configuration(
+            trans.user, template_id, int(template_version)
+        )
+        if template_server_configuration.oauth2_client_pair is None:
+            raise ObjectNotFound(f"Could not find oauth2 configuration for specified plugin template id {template_id}")
+
+        oauth2_configuration = template_server_configuration.oauth2_configuration
+        if not oauth2_configuration:
+            raise Exception(
+                "Configuration error - attempting to template an oauth2 configuration but not configuration found."
+            )
+
+        response = config_templates.get_token_from_code_raw(
+            code,
+            template_server_configuration.oauth2_client_pair,
+            oauth2_configuration,
+            redirect_uri,
+        )
+        response.raise_for_status()  # DO BETTER!
+        user_vault = trans.user_vault
+        new_object_uuid = str(uuid4().hex)
+        refresh_token = response.json()["refresh_token"]
+        refresh_token_vault_key = UserFileSource.vault_key_from_uuid(
+            new_object_uuid, "_oauth2_refresh_token", self._app_config
+        )
+        if not refresh_token:
+            raise RequestParameterMissingException("Missing refresh_token in response from remote resource")
+        user_vault.write_secret(refresh_token_vault_key, refresh_token)
+        return f"file_source_templates/{template_id}/new?uuid={new_object_uuid}"
+
+    def _redirect_uri(self, trans: SessionRequestContext) -> str:
+        galaxy_root = trans.request.url_path
+        redirect_uri = f"{galaxy_root}/oauth2_callback"
+        return redirect_uri
+
     def index(self, trans: ProvidesUserContext) -> List[UserFileSourceModel]:
         stores = self._sa_session.query(UserFileSource).filter(UserFileSource.user_id == trans.user.id).all()
         return [self._to_model(trans, s) for s in stores]
@@ -166,9 +259,7 @@ def _upgrade_instance(
         self, trans: ProvidesUserContext, id: UUID4, payload: UpgradeInstancePayload
     ) -> UserFileSourceModel:
         persisted_file_source = self._get(trans, id)
-        template = self._get_template(persisted_file_source, payload.template_version)
-        validate_no_extra_variables_defined(payload.variables, template)
-        validate_no_extra_secrets_defined(payload.secrets, template)
+        template = self._get_and_validate_target_upgrade_template(persisted_file_source, payload)
         persisted_file_source.template_version = template.version
         persisted_file_source.template_definition = template.model_dump()
         actual_variables = updated_template_variables(
@@ -181,6 +272,14 @@ def _upgrade_instance(
         self._save(persisted_file_source)
         return self._to_model(trans, persisted_file_source)
 
+    def _get_and_validate_target_upgrade_template(
+        self, persisted_file_source: UserFileSource, payload: Union[UpgradeInstancePayload, TestUpgradeInstancePayload]
+    ) -> FileSourceTemplate:
+        template = self._get_template(persisted_file_source, payload.template_version)
+        validate_no_extra_variables_defined(payload.variables, template)
+        validate_no_extra_secrets_defined(payload.secrets, template)
+        return template
+
     def _update_instance(
         self, trans: ProvidesUserContext, id: UUID4, payload: UpdateInstancePayload
     ) -> UserFileSourceModel:
@@ -206,7 +305,12 @@ def create_instance(self, trans: ProvidesUserContext, payload: CreateInstancePay
         persisted_file_source = UserFileSource()
         persisted_file_source.user_id = trans.user.id
         assert persisted_file_source.user_id
-        persisted_file_source.uuid = uuid4().hex
+        if payload.uuid:
+            # created a UUID during oauth2 callback to save refresh token
+            self._ensure_no_object_with_uuid(payload.uuid)
+            persisted_file_source.uuid = payload.uuid
+        else:
+            persisted_file_source.uuid = uuid4().hex
         persisted_file_source.template_definition = template.model_dump()
         persisted_file_source.template_id = template.id
         persisted_file_source.template_version = template.version
@@ -230,14 +334,64 @@ def create_instance(self, trans: ProvidesUserContext, payload: CreateInstancePay
         self._save(persisted_file_source)
         return self._to_model(trans, persisted_file_source)
 
+    def test_modify_instance(
+        self, trans: ProvidesUserContext, id: UUID4, payload: TestModifyInstancePayload
+    ) -> PluginStatus:
+        persisted_file_source = self._get(trans, id)
+        if isinstance(payload, TestUpgradeInstancePayload):
+            return self._plugin_status_for_upgrade(trans, payload, persisted_file_source)
+        else:
+            assert isinstance(payload, TestUpdateInstancePayload)
+            return self._plugin_status_for_update(trans, payload, persisted_file_source)
+
+    def _plugin_status_for_update(
+        self, trans: ProvidesUserContext, payload: TestUpdateInstancePayload, persisted_file_source: UserFileSource
+    ) -> PluginStatus:
+        template = self._get_template(persisted_file_source)
+        target = UpdateTestTarget(persisted_file_source, payload)
+        return self._plugin_status_for_template(trans, target, template)
+
+    def _plugin_status_for_upgrade(
+        self, trans: ProvidesUserContext, payload: TestUpgradeInstancePayload, persisted_file_source: UserFileSource
+    ) -> PluginStatus:
+        template = self._get_and_validate_target_upgrade_template(persisted_file_source, payload)
+        target = UpgradeTestTarget(persisted_file_source, payload)
+        return self._plugin_status_for_template(trans, target, template)
+
+    def plugin_status_for_instance(self, trans: ProvidesUserContext, id: UUID4):
+        persisted_file_source = self._get(trans, id)
+        return self._plugin_status(trans, persisted_file_source, to_template_reference(persisted_file_source))
+
     def plugin_status(self, trans: ProvidesUserContext, payload: CreateInstancePayload) -> PluginStatus:
-        template = self._catalog.find_template(payload)
+        target = CreateTestTarget(payload, UserFileSource)
+        return self._plugin_status(trans, target, payload)
+
+    def _plugin_status(
+        self, trans: ProvidesUserContext, target: CanTestPluginStatus, template_reference: TemplateReference
+    ):
+        template = self._catalog.find_template(template_reference)
+        return self._plugin_status_for_template(trans, target, template)
+
+    def _plugin_status_for_template(
+        self, trans: ProvidesUserContext, payload: CanTestPluginStatus, template: FileSourceTemplate
+    ):
         template_definition_status = status_template_definition(template)
         status_kwds = {"template_definition": template_definition_status}
         if template_definition_status.is_not_ok:
             return PluginStatus(**status_kwds)
         assert template
-        configuration, template_settings_status = self._template_settings_status(trans, payload, template)
+        template_parameters, oauth2_access_token_generation_status = self._template_parameter_generation(
+            trans, payload, template
+        )
+        if oauth2_access_token_generation_status is not None:
+            status_kwds["oauth2_access_token_generation"] = oauth2_access_token_generation_status
+        if not template_parameters or (
+            oauth2_access_token_generation_status and oauth2_access_token_generation_status.is_not_ok
+        ):
+            return PluginStatus(**status_kwds)
+        configuration, template_settings_status = self._template_settings_status(
+            trans, payload, template, template_parameters
+        )
         status_kwds["template_settings"] = template_settings_status
         if template_settings_status.is_not_ok:
             return PluginStatus(**status_kwds)
@@ -252,41 +406,62 @@ def plugin_status(self, trans: ProvidesUserContext, payload: CreateInstancePaylo
         # locally.
         return PluginStatus(**status_kwds)
 
+    def _template_parameter_generation(
+        self,
+        trans: ProvidesUserContext,
+        payload: CanTestPluginStatus,
+        template: FileSourceTemplate,
+    ) -> Tuple[Optional[TemplateParameters], Optional[PluginAspectStatus]]:
+        template_server_configuration = self._resolver.template_server_configuration(
+            trans.user, template.id, template.version
+        )
+        template_parameters = None
+        exception = None
+        try:
+            template_parameters = prepare_template_parameters_for_testing(
+                trans, template, template_server_configuration, payload, self._app_vault, self._app_config
+            )
+        except Exception as e:
+            if template_server_configuration.uses_oauth2:
+                exception = e
+            else:
+                raise
+        return template_parameters, oauth2_refresh_token_status(template_server_configuration, exception)
+
     def _template_settings_status(
         self,
         trans: ProvidesUserContext,
-        payload: CreateInstancePayload,
+        payload: CanTestPluginStatus,
         template: FileSourceTemplate,
+        template_parameters: TemplateParameters,
     ) -> Tuple[Optional[FileSourceConfiguration], PluginAspectStatus]:
-        secrets = payload.secrets
-        variables = payload.variables
-        environment = prepare_environment_from_root(template.environment, self._app_vault, self._app_config)
-        user_details = trans.user.config_template_details()
-
         configuration = None
         exception = None
         try:
-            configuration = template_to_configuration(
-                template,
-                variables=variables,
-                secrets=secrets,
-                user_details=user_details,
-                environment=environment,
-            )
+            configuration = template_to_configuration(template, **template_parameters)
         except Exception as e:
             exception = e
         return configuration, settings_exception_to_status(exception)
 
     def _connection_status(
-        self, trans: ProvidesUserContext, payload: CreateInstancePayload, configuration: FileSourceConfiguration
+        self, trans: ProvidesUserContext, target: CanTestPluginStatus, configuration: FileSourceConfiguration
     ) -> Tuple[Optional[BaseFilesSource], PluginAspectStatus]:
         file_source = None
         exception = None
+        if isinstance(target, (UpgradeTestTarget, UpdateTestTarget)):
+            label = target.instance.name
+            doc = target.instance.description
+        elif isinstance(target, (CreateTestTarget)):
+            label = target.payload.name
+            doc = target.payload.description
+        else:
+            label = target.name
+            doc = target.description
         try:
             file_source_properties = configuration_to_file_source_properties(
                 configuration,
-                label=payload.name,
-                doc=payload.description,
+                label=label,
+                doc=doc,
                 id=uuid4().hex,
             )
             file_source = self._resolver._file_source(file_source_properties)
@@ -304,6 +479,12 @@ def _connection_status(
     def _index_filter(self, uuid: UUID4):
         return UserFileSource.__table__.c.uuid == uuid
 
+    def _ensure_no_object_with_uuid(self, uuid: UUID4):
+        filter = UserFileSource.__table__.c.uuid == uuid
+        user_file_source = self._sa_session.query(UserFileSource).filter(filter).one_or_none()
+        if user_file_source is not None:
+            raise Conflict()
+
     def _get(self, trans: ProvidesUserContext, uuid: UUID4) -> UserFileSource:
         filter = self._index_filter(uuid)
         user_file_source = self._sa_session.query(UserFileSource).filter(filter).one_or_none()
@@ -393,13 +574,19 @@ def _file_source_properties_from_uri(self, uri: str) -> Optional[FilesSourceProp
     def _file_source_properties(self, user_file_source: UserFileSource) -> FilesSourceProperties:
         secrets = recover_secrets(user_file_source, self._app_vault, self._app_config)
         environment = prepare_environment(user_file_source, self._app_vault, self._app_config)
+        template_server_configuration = self.template_server_configuration(
+            user_file_source.user, user_file_source.template_id, user_file_source.template_version
+        )
+        implicit = implicit_parameters_for_instance(
+            user_file_source, template_server_configuration, self._app_vault, self._app_config
+        )
         templates = sort_templates(
             self._app_config,
             self._catalog.catalog.root,
             user_file_source,
         )
         file_source_configuration: FileSourceConfiguration = user_file_source.file_source_configuration(
-            secrets=secrets, environment=environment, templates=templates
+            secrets=secrets, environment=environment, implicit=implicit, templates=templates
         )
         return configuration_to_file_source_properties(
             file_source_configuration,
@@ -447,6 +634,31 @@ def _all_user_file_source_properties(self, user_context: FileSourcesUserContext)
             all_file_source_properties.append(files_source_properties)
         return all_file_source_properties
 
+    def template_server_configuration(
+        self, user, template_id: str, template_version: int
+    ) -> TemplateServerConfiguration:
+        catalog = self._catalog
+        template = catalog.find_template_by(template_id, template_version)
+        oauth2_configuration = get_oauth2_config_or_none(template)
+        oauth2_scope = None
+        if oauth2_configuration is not None:
+            environment = prepare_environment_from_root(template.environment, self._app_vault, self._app_config)
+            user_details = user.config_template_details()
+            oauth2_client_pair_obj, oauth2_scope = read_oauth2_info_from_configuration(
+                template.configuration, user_details, environment
+            )
+            # most configuration definitions won't include this, the default for the
+            # plugin type is the fallback and the typical case here
+            if oauth2_scope is None:
+                oauth2_scope = oauth2_configuration.scope
+        else:
+            oauth2_client_pair_obj = None
+        return TemplateServerConfiguration(
+            oauth2_client_pair=oauth2_client_pair_obj,
+            oauth2_configuration=oauth2_configuration,
+            oauth2_scope=oauth2_scope,
+        )
+
     def user_file_sources_to_dicts(
         self,
         for_serialization: bool,
@@ -504,6 +716,9 @@ def configuration_to_file_source_properties(
     "CreateInstancePayload",
     "FileSourceInstancesManager",
     "ModifyInstancePayload",
+    "TestModifyInstancePayload",
+    "TestUpgradeInstancePayload",
+    "TestUpdateInstancePayload",
     "UpdateInstancePayload",
     "UpdateInstanceSecretPayload",
     "UpgradeInstancePayload",
diff --git a/lib/galaxy/managers/object_store_instances.py b/lib/galaxy/managers/object_store_instances.py
index b0163c7be249..c844ae139a82 100644
--- a/lib/galaxy/managers/object_store_instances.py
+++ b/lib/galaxy/managers/object_store_instances.py
@@ -13,6 +13,7 @@
     List,
     Optional,
     Tuple,
+    Union,
 )
 from uuid import uuid4
 
@@ -49,26 +50,36 @@
     PluginStatus,
     settings_exception_to_status,
     status_template_definition,
+    TemplateReference,
     TemplateVariableValueType,
     validate_no_extra_secrets_defined,
     validate_no_extra_variables_defined,
 )
 from ._config_templates import (
+    CanTestPluginStatus,
     CreateInstancePayload,
+    CreateTestTarget,
     ModifyInstancePayload,
     prepare_environment,
-    prepare_environment_from_root,
+    prepare_template_parameters_for_testing,
     purge_template_instance,
     recover_secrets,
     save_template_instance,
     sort_templates,
+    TemplateServerConfiguration,
+    TestModifyInstancePayload,
+    TestUpdateInstancePayload,
+    TestUpgradeInstancePayload,
+    to_template_reference,
     update_instance_secret,
     update_template_instance,
     updated_template_variables,
     UpdateInstancePayload,
     UpdateInstanceSecretPayload,
+    UpdateTestTarget,
     upgrade_secrets,
     UpgradeInstancePayload,
+    UpgradeTestTarget,
 )
 
 log = logging.getLogger(__name__)
@@ -126,11 +137,9 @@ def _upgrade_instance(
         self, trans: ProvidesUserContext, id: UUID4, payload: UpgradeInstancePayload
     ) -> UserConcreteObjectStoreModel:
         persisted_object_store = self._get(trans, id)
-        template = self._get_template(persisted_object_store, payload.template_version)
+        template = self._get_and_validate_target_upgrade_template(persisted_object_store, payload)
         persisted_object_store.template_version = template.version
         persisted_object_store.template_definition = template.model_dump()
-        validate_no_extra_variables_defined(payload.variables, template)
-        validate_no_extra_secrets_defined(payload.secrets, template)
         actual_variables = updated_template_variables(
             payload.variables,
             persisted_object_store,
@@ -141,6 +150,16 @@ def _upgrade_instance(
         self._save(persisted_object_store)
         return self._to_model(trans, persisted_object_store)
 
+    def _get_and_validate_target_upgrade_template(
+        self,
+        persisted_object_store: UserObjectStore,
+        payload: Union[UpgradeInstancePayload, TestUpgradeInstancePayload],
+    ) -> ObjectStoreTemplate:
+        template = self._get_template(persisted_object_store, payload.template_version)
+        validate_no_extra_variables_defined(payload.variables, template)
+        validate_no_extra_secrets_defined(payload.secrets, template)
+        return template
+
     def _update_instance(
         self, trans: ProvidesUserContext, id: UUID4, payload: UpdateInstancePayload
     ) -> UserConcreteObjectStoreModel:
@@ -218,8 +237,47 @@ def _get(self, trans: ProvidesUserContext, id: UUID4) -> UserObjectStore:
             raise ItemOwnershipException()
         return user_object_store
 
+    def test_modify_instance(
+        self, trans: ProvidesUserContext, id: UUID4, payload: TestModifyInstancePayload
+    ) -> PluginStatus:
+        persisted_object_store = self._get(trans, id)
+        if isinstance(payload, TestUpgradeInstancePayload):
+            return self._plugin_status_for_upgrade(trans, payload, persisted_object_store)
+        else:
+            assert isinstance(payload, TestUpdateInstancePayload)
+            return self._plugin_status_for_update(trans, payload, persisted_object_store)
+
+    def _plugin_status_for_update(
+        self, trans: ProvidesUserContext, payload: TestUpdateInstancePayload, persisted_object_store: UserObjectStore
+    ) -> PluginStatus:
+        template = self._get_template(persisted_object_store)
+        target = UpdateTestTarget(persisted_object_store, payload)
+        return self._plugin_status_for_template(trans, target, template)
+
+    def _plugin_status_for_upgrade(
+        self, trans: ProvidesUserContext, payload: TestUpgradeInstancePayload, persisted_object_store: UserObjectStore
+    ) -> PluginStatus:
+        template = self._get_and_validate_target_upgrade_template(persisted_object_store, payload)
+        target = UpgradeTestTarget(persisted_object_store, payload)
+        return self._plugin_status_for_template(trans, target, template)
+
+    def plugin_status_for_instance(self, trans: ProvidesUserContext, id: UUID4):
+        persisted_object_store = self._get(trans, id)
+        return self._plugin_status(trans, persisted_object_store, to_template_reference(persisted_object_store))
+
     def plugin_status(self, trans: ProvidesUserContext, payload: CreateInstancePayload) -> PluginStatus:
-        template = self._catalog.find_template(payload)
+        target = CreateTestTarget(payload, UserObjectStore)
+        return self._plugin_status(trans, target, payload)
+
+    def _plugin_status(
+        self, trans: ProvidesUserContext, target: CanTestPluginStatus, template_reference: TemplateReference
+    ):
+        template = self._catalog.find_template(template_reference)
+        return self._plugin_status_for_template(trans, target, template)
+
+    def _plugin_status_for_template(
+        self, trans: ProvidesUserContext, payload: CanTestPluginStatus, template: ObjectStoreTemplate
+    ):
         template_definition_status = status_template_definition(template)
         status_kwds = {"template_definition": template_definition_status}
         if template_definition_status.is_not_ok:
@@ -243,30 +301,23 @@ def plugin_status(self, trans: ProvidesUserContext, payload: CreateInstancePaylo
     def _template_settings_status(
         self,
         trans: ProvidesUserContext,
-        payload: CreateInstancePayload,
+        payload: CanTestPluginStatus,
         template: ObjectStoreTemplate,
     ) -> Tuple[Optional[ObjectStoreConfiguration], PluginAspectStatus]:
-        secrets = payload.secrets
-        variables = payload.variables
-        environment = prepare_environment_from_root(template.environment, self._app_vault, self._app_config)
-        user_details = trans.user.config_template_details()
+        template_parameters = prepare_template_parameters_for_testing(
+            trans, template, TemplateServerConfiguration(), payload, self._app_vault, self._app_config
+        )
 
         configuration = None
         exception = None
         try:
-            configuration = template_to_configuration(
-                template,
-                variables=variables,
-                secrets=secrets,
-                user_details=user_details,
-                environment=environment,
-            )
+            configuration = template_to_configuration(template, **template_parameters)
         except Exception as e:
             exception = e
         return configuration, settings_exception_to_status(exception)
 
     def _connection_status(
-        self, trans: ProvidesUserContext, payload: CreateInstancePayload, configuration: ObjectStoreConfiguration
+        self, trans: ProvidesUserContext, payload: CanTestPluginStatus, configuration: ObjectStoreConfiguration
     ) -> Tuple[Optional[BaseObjectStore], PluginAspectStatus]:
         object_store = None
         exception = None
@@ -354,6 +405,9 @@ def resolve_object_store_uri_config(self, uri: str) -> ObjectStoreConfiguration:
 __all__ = (
     "CreateInstancePayload",
     "ModifyInstancePayload",
+    "TestUpgradeInstancePayload",
+    "TestUpdateInstancePayload",
+    "TestModifyInstancePayload",
     "UpdateInstancePayload",
     "UpdateInstanceSecretPayload",
     "UpgradeInstancePayload",
diff --git a/lib/galaxy/model/__init__.py b/lib/galaxy/model/__init__.py
index 2c8dae330d83..64e3c143e736 100644
--- a/lib/galaxy/model/__init__.py
+++ b/lib/galaxy/model/__init__.py
@@ -194,6 +194,7 @@
 )
 from galaxy.util.config_templates import (
     EnvironmentDict,
+    ImplicitConfigurationParameters,
     SecretsDict,
     Template as ConfigTemplate,
     TemplateEnvironment,
@@ -11076,6 +11077,10 @@ class HasConfigSecrets(RepresentById):
     uuid: Mapped[Union[UUID, str]]
     user: Mapped["User"]
 
+    @classmethod
+    def vault_key_from_uuid(clazz, uuid: Union[str, UUID], secret: str, app_config: UsesTemplatesAppConfig) -> str:
+        return f"{clazz.secret_config_type}/{str(get_uuid(uuid))}/{secret}"
+
     def vault_id_prefix(self, app_config: UsesTemplatesAppConfig) -> str:
         id_str = str(self.uuid)
         user_vault_id_prefix = f"{self.secret_config_type}/{id_str}"
@@ -11230,7 +11235,11 @@ def template(self) -> FileSourceTemplate:
         return FileSourceTemplate(**self.template_definition or {})
 
     def file_source_configuration(
-        self, secrets: SecretsDict, environment: EnvironmentDict, templates: Optional[List[FileSourceTemplate]] = None
+        self,
+        secrets: SecretsDict,
+        environment: EnvironmentDict,
+        implicit: ImplicitConfigurationParameters,
+        templates: Optional[List[FileSourceTemplate]] = None,
     ) -> FileSourceConfiguration:
         if templates is None:
             templates = [self.template]
@@ -11245,6 +11254,7 @@ def file_source_configuration(
                     secrets=secrets,
                     user_details=user_details,
                     environment=environment,
+                    implicit=implicit,
                 )
             except Exception as e:
                 if first_exception is None:
diff --git a/lib/galaxy/objectstore/templates/models.py b/lib/galaxy/objectstore/templates/models.py
index a066163d5b37..3a5e041addaf 100644
--- a/lib/galaxy/objectstore/templates/models.py
+++ b/lib/galaxy/objectstore/templates/models.py
@@ -17,7 +17,9 @@
 from galaxy.util.config_templates import (
     EnvironmentDict,
     expand_raw_config,
+    ImplicitConfigurationParameters,
     MarkdownContent,
+    merge_implicit_parameters,
     populate_default_variables,
     SecretsDict,
     StrictModel,
@@ -366,6 +368,10 @@ class ObjectStoreTemplate(ObjectStoreTemplateBase):
     configuration: ObjectStoreTemplateConfiguration
     environment: Optional[List[TemplateEnvironmentEntry]] = None
 
+    @property
+    def type(self):
+        return self.configuration.type
+
 
 ObjectStoreTemplateCatalog = RootModel[List[ObjectStoreTemplate]]
 
@@ -380,10 +386,12 @@ def template_to_configuration(
     secrets: SecretsDict,
     user_details: UserDetailsDict,
     environment: EnvironmentDict,
+    implicit: Optional[ImplicitConfigurationParameters] = None,
 ) -> ObjectStoreConfiguration:
     configuration_template = template.configuration
     populate_default_variables(template.variables, variables)
     raw_config = expand_raw_config(configuration_template, variables, secrets, user_details, environment)
+    merge_implicit_parameters(raw_config, implicit)
     return to_configuration_object(raw_config)
 
 
diff --git a/lib/galaxy/schema/schema.py b/lib/galaxy/schema/schema.py
index a2cb9ef72272..f3904dc3d35e 100644
--- a/lib/galaxy/schema/schema.py
+++ b/lib/galaxy/schema/schema.py
@@ -1,5 +1,6 @@
 """This module contains general pydantic models and common schema field annotations for them."""
 
+import base64
 from datetime import (
     date,
     datetime,
@@ -3825,6 +3826,18 @@ class PageSummary(PageSummaryBase, WithModelClass):
 )
 
 
+class OAuth2State(BaseModel):
+    route: str
+    nonce: str
+
+    def encode(self) -> str:
+        return base64.b64encode(self.model_dump_json().encode("utf-8")).decode("utf-8")
+
+    @staticmethod
+    def decode(base64_param: str) -> "OAuth2State":
+        return OAuth2State.model_validate_json(base64.b64decode(base64_param.encode("utf-8")))
+
+
 class PageDetails(PageSummary):
     content_format: PageContentFormat = ContentFormatField
     content: Optional[str] = ContentField
diff --git a/lib/galaxy/util/config_templates.py b/lib/galaxy/util/config_templates.py
index 79f0bed52ca9..7f09b3fec667 100644
--- a/lib/galaxy/util/config_templates.py
+++ b/lib/galaxy/util/config_templates.py
@@ -3,17 +3,22 @@
 This is capturing code shared by file source templates and object store templates.
 """
 
+import logging
 import os
 from typing import (
     Any,
+    cast,
     Dict,
     List,
     Optional,
+    Tuple,
     Type,
     TypeVar,
     Union,
 )
+from urllib.parse import urlencode
 
+import requests
 import yaml
 from boltons.iterutils import remap
 from pydantic import (
@@ -24,7 +29,9 @@
 )
 from typing_extensions import (
     Literal,
+    NotRequired,
     Protocol,
+    TypedDict,
 )
 
 try:
@@ -45,6 +52,8 @@
 )
 from galaxy.util import asbool
 
+log = logging.getLogger(__name__)
+
 TemplateVariableType = Literal["string", "path_component", "boolean", "integer"]
 TemplateVariableValueType = Union[str, bool, int]
 TemplateExpansion = str
@@ -178,6 +187,12 @@ def expand_raw_config(
         "environment": environment,
     }
 
+    return _expand_raw_config(template_configuration, template_variables)
+
+
+def _expand_raw_config(
+    template_configuration: TemplateConfiguration, template_variables: Dict[str, Any]
+) -> RawTemplateConfig:
     template_start = template_configuration.template_start or "{{"
     template_end = template_configuration.template_end or "}}"
 
@@ -193,6 +208,14 @@ def expand_template(_, key, value):
     return raw_config
 
 
+def merge_implicit_parameters(raw_config: RawTemplateConfig, implicit: Optional["ImplicitConfigurationParameters"]):
+    if implicit:
+        raw_config.update(implicit)
+        raw_config.pop("oauth2_client_id", None)
+        raw_config.pop("oauth2_client_secret", None)
+        raw_config.pop("oauth2_scope", None)
+
+
 def verify_vault_configured_if_uses_secrets(catalog, vault_configured: bool, exception_message: str) -> None:
     if _catalog_uses_secrets(catalog) and not vault_configured:
         raise Exception(exception_message)
@@ -283,6 +306,9 @@ def id(self) -> str: ...
     @property
     def version(self) -> int: ...
 
+    @property
+    def type(self) -> str: ...
+
     @property
     def variables(self) -> Optional[List[TemplateVariable]]: ...
 
@@ -445,6 +471,7 @@ class PluginStatus(StrictModel):
 
     # TODO: Fill in writable checks.
     # writable: Optional[PluginAspectStatus] = None
+    oauth2_access_token_generation: Optional[PluginAspectStatus] = None
 
 
 def status_template_definition(template: Optional[Template]) -> PluginAspectStatus:
@@ -478,3 +505,106 @@ def connection_exception_to_status(what: str, exception: Optional[Exception]) ->
         message = f"Failed to connect to a {what} with supplied settings: {exception}"
         connection_status = PluginAspectStatus(state="not_ok", message=message)
     return connection_status
+
+
+class OAuth2Info(StrictModel):
+    authorize_url: str
+
+
+class OAuth2Configuration(StrictModel):
+    authorize_url: str
+    token_url: str
+    authorize_params: Optional[Dict[str, str]]
+    scope: Optional[str] = None
+
+
+ConfiguredOAuth2Sources = Dict[str, OAuth2Configuration]
+
+
+class OAuth2ClientPair(StrictModel):
+    client_id: str
+    client_secret: str
+
+
+def get_authorize_url(
+    client_id_or_pair: Union[str, OAuth2ClientPair],
+    config: OAuth2Configuration,
+    redirect_uri: Optional[str],
+    state: Optional[str] = None,
+    scope: Optional[str] = None,
+) -> str:
+    client_id = client_id_or_pair if isinstance(client_id_or_pair, str) else client_id_or_pair.client_id
+    query_data = dict(
+        client_id=client_id,
+        response_type="code",
+    )
+    if redirect_uri is not None:
+        query_data["redirect_uri"] = redirect_uri
+    if state is not None:
+        query_data["state"] = state
+    if scope is not None:
+        query_data["scope"] = scope
+    elif config.scope is not None:
+        query_data["scope"] = config.scope
+    query_data.update(config.authorize_params or {})
+    query = urlencode(query_data)
+    return f"{config.authorize_url}?{query}"
+
+
+def get_token_from_code_raw(
+    code: str, client_pair: OAuth2ClientPair, config: OAuth2Configuration, redirect_uri: Optional[str]
+) -> requests.Response:
+    data = {
+        "code": code,
+        "grant_type": "authorization_code",
+        "client_id": client_pair.client_id,
+        "client_secret": client_pair.client_secret,
+    }
+    if redirect_uri is not None:
+        data["redirect_uri"] = redirect_uri
+
+    return requests.post(config.token_url, data=data)
+
+
+def get_token_from_refresh_raw(
+    refresh_token: str, client_pair: OAuth2ClientPair, config: OAuth2Configuration
+) -> requests.Response:
+    data = {
+        "refresh_token": refresh_token,
+        "grant_type": "refresh_token",
+        "client_id": client_pair.client_id,
+        "client_secret": client_pair.client_secret,
+    }
+
+    return requests.post(config.token_url, data=data)
+
+
+def get_oauth2_config_from(template, sources: ConfiguredOAuth2Sources) -> OAuth2Configuration:
+    template_type = template.configuration.type
+    if template_type not in sources:
+        raise ObjectNotFound(f"oauth information not available for template type {template_type}")
+    return sources[template_type]
+
+
+def read_oauth2_info_from_configuration(
+    template_configuration: TemplateConfiguration,
+    user_details: UserDetailsDict,
+    environment: EnvironmentDict,
+) -> Tuple[OAuth2ClientPair, Optional[str]]:
+    template_variables = {
+        "user": user_details,
+        "environment": environment,
+    }
+
+    expanded_config = _expand_raw_config(template_configuration, template_variables)
+    oauth2_client_id = expanded_config["oauth2_client_id"]
+    oauth2_client_secret = expanded_config["oauth2_client_secret"]
+    oauth2_scope = cast(Optional[str], expanded_config.get("oauth2_scope"))
+    client_pair = OAuth2ClientPair(client_id=oauth2_client_id, client_secret=oauth2_client_secret)
+    return client_pair, oauth2_scope
+
+
+# Things added to configuration dictionary not managed by the template
+# but injected dynamically. Currently only `oauth2_access_token`.
+class ImplicitConfigurationParameters(TypedDict):
+    oauth2_access_token: NotRequired[str]
diff --git a/lib/galaxy/webapps/galaxy/api/file_sources.py b/lib/galaxy/webapps/galaxy/api/file_sources.py
index 957da9b54092..4546e7b88ebc 100644
--- a/lib/galaxy/webapps/galaxy/api/file_sources.py
+++ b/lib/galaxy/webapps/galaxy/api/file_sources.py
@@ -15,10 +15,15 @@
     CreateInstancePayload,
     FileSourceInstancesManager,
     ModifyInstancePayload,
+    TestModifyInstancePayload,
     UserFileSourceModel,
 )
 from galaxy.model import User
-from galaxy.util.config_templates import PluginStatus
+from galaxy.util.config_templates import (
+    OAuth2Info,
+    PluginStatus,
+)
+from galaxy.work.context import SessionRequestContext
 from . import (
     depends,
     DependsOnTrans,
@@ -35,6 +40,14 @@
     ..., title="User File Source UUID", description="The UUID index for a persisted UserFileSourceStore object."
 )
 
+TemplateIdPathParam: str = Path(
+    ..., title="Template ID", description="The template ID of the target file source template."
+)
+
+TemplateVersionPathParam = Path(
+    ..., title="Template Version", description="The template version of the target file source template."
+)
+
 
 @router.cbv
 class FastAPIFileSources:
@@ -53,6 +66,19 @@ def index_templates(
     ) -> FileSourceTemplateSummaries:
         return self.file_source_instances_manager.summaries
 
+    @router.get(
+        "/api/file_source_templates/{template_id}/{template_version}/oauth2",
+        response_description="OAuth2 authorization url to redirect user to prior to creation.",
+        operation_id="file_sources__template_oauth2",
+    )
+    def template_oauth2(
+        self,
+        trans: SessionRequestContext = DependsOnTrans,
+        template_id: str = TemplateIdPathParam,
+        template_version: int = TemplateVersionPathParam,
+    ) -> OAuth2Info:
+        return self.file_source_instances_manager.template_oauth2(trans, template_id, template_version)
+
     @router.post(
         "/api/file_source_instances",
         summary="Create a user-bound file source.",
@@ -89,32 +115,57 @@ def instance_index(
         return self.file_source_instances_manager.index(trans)
 
     @router.get(
-        "/api/file_source_instances/{user_file_source_id}",
+        "/api/file_source_instances/{uuid}",
         summary="Get a persisted user file source instance.",
         operation_id="file_sources__instances_get",
     )
     def instances_show(
         self,
         trans: ProvidesUserContext = DependsOnTrans,
-        user_file_source_id: UUID4 = UserFileSourceIdPathParam,
+        uuid: UUID4 = UserFileSourceIdPathParam,
     ) -> UserFileSourceModel:
-        return self.file_source_instances_manager.show(trans, user_file_source_id)
+        return self.file_source_instances_manager.show(trans, uuid)
+
+    @router.get(
+        "/api/file_source_instances/{uuid}/test",
+        summary="Test a file source instance and return status.",
+        operation_id="file_sources__instances_test_instance",
+    )
+    def instance_test(
+        self,
+        trans: ProvidesUserContext = DependsOnTrans,
+        uuid: UUID4 = UserFileSourceIdPathParam,
+    ) -> PluginStatus:
+        return self.file_source_instances_manager.plugin_status_for_instance(trans, uuid)
 
     @router.put(
-        "/api/file_source_instances/{user_file_source_id}",
+        "/api/file_source_instances/{uuid}",
         summary="Update or upgrade user file source instance.",
         operation_id="file_sources__instances_update",
     )
     def update_instance(
         self,
         trans: ProvidesUserContext = DependsOnTrans,
-        user_file_source_id: UUID4 = UserFileSourceIdPathParam,
+        uuid: UUID4 = UserFileSourceIdPathParam,
         payload: ModifyInstancePayload = Body(...),
     ) -> UserFileSourceModel:
-        return self.file_source_instances_manager.modify_instance(trans, user_file_source_id, payload)
+        return self.file_source_instances_manager.modify_instance(trans, uuid, payload)
+
+    @router.post(
+        "/api/file_source_instances/{uuid}/test",
+        summary="Test updating or upgrading user file source instance.",
+        operation_id="file_sources__test_instances_update",
+    )
+    def test_update_instance(
+        self,
+        trans: ProvidesUserContext = DependsOnTrans,
+        uuid: UUID4 = UserFileSourceIdPathParam,
+        payload: TestModifyInstancePayload = Body(...),
+    ) -> PluginStatus:
+        return self.file_source_instances_manager.test_modify_instance(trans, uuid, payload)
 
     @router.delete(
-        "/api/file_source_instances/{user_file_source_id}",
+        "/api/file_source_instances/{uuid}",
         summary="Purge user file source instance.",
         operation_id="file_sources__instances_purge",
         status_code=status.HTTP_204_NO_CONTENT,
@@ -122,7 +173,7 @@ def update_instance(
     def purge_instance(
         self,
         trans: ProvidesUserContext = DependsOnTrans,
-        user_file_source_id: UUID4 = UserFileSourceIdPathParam,
+        uuid: UUID4 = UserFileSourceIdPathParam,
     ):
-        self.file_source_instances_manager.purge_instance(trans, user_file_source_id)
+        self.file_source_instances_manager.purge_instance(trans, uuid)
         return Response(status_code=status.HTTP_204_NO_CONTENT)
diff --git a/lib/galaxy/webapps/galaxy/api/oauth2_callback.py b/lib/galaxy/webapps/galaxy/api/oauth2_callback.py
new file mode 100644
index 000000000000..581571c28483
--- /dev/null
+++ b/lib/galaxy/webapps/galaxy/api/oauth2_callback.py
@@ -0,0 +1,84 @@
+from typing import Optional
+
+from fastapi import Query
+from fastapi.responses import RedirectResponse
+
+from galaxy.exceptions import ObjectNotFound
+from galaxy.managers.file_source_instances import FileSourceInstancesManager
+from galaxy.schema.schema import OAuth2State
+from galaxy.webapps.galaxy.api import (
+    depends,
+    DependsOnTrans,
+    Router,
+)
+from galaxy.work.context import SessionRequestContext
+
+StateQueryParam: str = Query(
+    ...,
+    title="State information sent with auth request",
+    description="Base-64 encoded JSON used to route request within Galaxy.",
+)
+CodeQueryParam: Optional[str] = Query(
+    None,
+    title="OAuth2 Authorization Code from remote resource",
+)
+ErrorQueryParam: Optional[str] = Query(
+    None,
+    title="OAuth2 Error from remote resource",
+)
+
+router = Router(tags=["oauth2"])
+
+ERROR_REDIRECT_PATH = "file_source_instances/create"
+
+VALID_OAUTH2_ERROR_CODES = [
+    "access_denied",
+    "invalid_request",
+    "unauthorized_client",
+    "unsupported_response_type",
+    "invalid_scope",
+    "server_error",
+    "temporarily_unavailable",
+]
+
+
+@router.cbv
+class OAuth2Callback:
+    file_source_instances_manager: FileSourceInstancesManager = depends(FileSourceInstancesManager)
+
+    @router.get(
+        "/oauth2_callback",
+        summary="Callback entry point for remote resource responses with OAuth2 authorization codes",
+    )
+    def oauth2_callback(
+        self,
+        trans: SessionRequestContext = DependsOnTrans,
+        state: str = StateQueryParam,
+        code: Optional[str] = CodeQueryParam,
+        error: Optional[str] = ErrorQueryParam,
+    ):
+        if error:
+            error_code = self._ensure_valid_oauth_error_code(error)
+            return RedirectResponse(f"{trans.request.url_path}{ERROR_REDIRECT_PATH}?error={error_code}")
+        elif not code:
+            return RedirectResponse(
+                f"{trans.request.url_path}{ERROR_REDIRECT_PATH}?error=No credentials provided, please try again."
+            )
+
+        oauth2_state = OAuth2State.decode(state)
+        # TODO: save session information in cookie to verify not CSRF with oauth2_state.nonce
+        route = oauth2_state.route
+        if route.startswith("file_source_instances/"):
+            redirect = self.file_source_instances_manager.handle_authorization_code(trans, code, oauth2_state)
+        # implement other routes here as needed for other components
+        else:
+            raise ObjectNotFound(f"Could not find oauth2 callback for route {route}")
+
+        return RedirectResponse(f"{trans.request.url_path}{redirect}")
+
+    def _ensure_valid_oauth_error_code(self, error: str) -> str:
+        # if the error code is valid, return it as is so the client can
+        # handle it or display the appropriate error message
+        if error in VALID_OAUTH2_ERROR_CODES:
+            return error
+        return "Unknown OAuth2 error code"
diff --git a/lib/galaxy/webapps/galaxy/api/object_store.py b/lib/galaxy/webapps/galaxy/api/object_store.py
index 3927ff17b1d5..0963530e5818 100644
--- a/lib/galaxy/webapps/galaxy/api/object_store.py
+++ b/lib/galaxy/webapps/galaxy/api/object_store.py
@@ -26,6 +26,7 @@
     CreateInstancePayload,
     ModifyInstancePayload,
     ObjectStoreInstancesManager,
+    TestModifyInstancePayload,
     UserConcreteObjectStoreModel,
 )
 from galaxy.model import User
@@ -129,7 +130,7 @@ def instance_index(
         return self.object_store_instance_manager.index(trans)
 
     @router.get(
-        "/api/object_store_instances/{user_object_store_id}",
+        "/api/object_store_instances/{uuid}",
         summary="Get a persisted user object store instance.",
         operation_id="object_stores__instances_get",
     )
@@ -137,9 +138,21 @@ def instances_show(
         self,
         trans: ProvidesUserContext = DependsOnTrans,
         user: User = DependsOnUser,
-        user_object_store_id: UUID4 = UserObjectStoreIdPathParam,
+        uuid: UUID4 = UserObjectStoreIdPathParam,
     ) -> UserConcreteObjectStoreModel:
-        return self.object_store_instance_manager.show(trans, user_object_store_id)
+        return self.object_store_instance_manager.show(trans, uuid)
+
+    @router.get(
+        "/api/object_store_instances/{uuid}/test",
+        summary="Get a persisted user object store instance.",
+        operation_id="object_stores__instances_test_instance",
+    )
+    def instance_test(
+        self,
+        trans: ProvidesUserContext = DependsOnTrans,
+        uuid: UUID4 = UserObjectStoreIdPathParam,
+    ) -> PluginStatus:
+        return self.object_store_instance_manager.plugin_status_for_instance(trans, uuid)
 
     @router.get(
         "/api/object_stores/{object_store_id}",
@@ -153,7 +166,7 @@ def show_info(
         return self._model_for(object_store_id)
 
     @router.put(
-        "/api/object_store_instances/{user_object_store_id}",
+        "/api/object_store_instances/{uuid}",
         summary="Update or upgrade user object store instance.",
         operation_id="object_stores__instances_update",
     )
@@ -161,13 +174,26 @@ def update_instance(
         self,
         trans: ProvidesUserContext = DependsOnTrans,
         user: User = DependsOnUser,
-        user_object_store_id: UUID4 = UserObjectStoreIdPathParam,
+        uuid: UUID4 = UserObjectStoreIdPathParam,
         payload: ModifyInstancePayload = Body(...),
     ) -> UserConcreteObjectStoreModel:
-        return self.object_store_instance_manager.modify_instance(trans, user_object_store_id, payload)
+        return self.object_store_instance_manager.modify_instance(trans, uuid, payload)
+
+    @router.post(
+        "/api/object_store_instances/{uuid}/test",
+        summary="Test updating or upgrading user object source instance.",
+        operation_id="object_stores__test_instances_update",
+    )
+    def test_update_instance(
+        self,
+        trans: ProvidesUserContext = DependsOnTrans,
+        user_file_source_id: UUID4 = UserObjectStoreIdPathParam,
+        payload: TestModifyInstancePayload = Body(...),
+    ) -> PluginStatus:
+        return self.object_store_instance_manager.test_modify_instance(trans, user_file_source_id, payload)
 
     @router.delete(
-        "/api/object_store_instances/{user_object_store_id}",
+        "/api/object_store_instances/{uuid}",
         summary="Purge user object store instance.",
         operation_id="object_stores__instances_purge",
         status_code=status.HTTP_204_NO_CONTENT,
@@ -176,9 +202,9 @@ def purge_instance(
         self,
         trans: ProvidesUserContext = DependsOnTrans,
         user: User = DependsOnUser,
-        user_object_store_id: UUID4 = UserObjectStoreIdPathParam,
+        uuid: UUID4 = UserObjectStoreIdPathParam,
     ):
-        self.object_store_instance_manager.purge_instance(trans, user_object_store_id)
+        self.object_store_instance_manager.purge_instance(trans, uuid)
         return Response(status_code=status.HTTP_204_NO_CONTENT)
 
     @router.get(
diff --git a/lib/galaxy/work/context.py b/lib/galaxy/work/context.py
index cded013f2e74..801c0d9e7e77 100644
--- a/lib/galaxy/work/context.py
+++ b/lib/galaxy/work/context.py
@@ -88,6 +88,11 @@ class GalaxyAbstractRequest:
     def base(self) -> str:
         """Base URL of the request."""
 
+    @property
+    @abc.abstractmethod
+    def url_path(self) -> str:
+        """Base with optional prefix added."""
+
     @property
     @abc.abstractmethod
     def host(self) -> str:
diff --git a/test/integration/objectstore/test_per_user.py b/test/integration/objectstore/test_per_user.py
index a7a5637fc406..5eebb38ba945 100644
--- a/test/integration/objectstore/test_per_user.py
+++ b/test/integration/objectstore/test_per_user.py
@@ -103,6 +103,18 @@ def _create_simple_object_store(self) -> str:
         object_store_id = object_store_json["object_store_id"]
         assert object_store_id.startswith("user_objects://")
 
+        response = self.dataset_populator._get(f"object_store_instances/{object_store_json['uuid']}/test")
+        response.raise_for_status()
+        from galaxy.util.config_templates import PluginStatus
+
+        status = PluginStatus.model_validate(response.json())
+        assert status.connection
+        assert not status.connection.is_not_ok
+        assert status.template_definition
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert not status.template_settings.is_not_ok
+
         object_stores = self.dataset_populator.selectable_object_stores()
         after_selectable_object_store_count = len(object_stores)
         assert after_selectable_object_store_count == before_selectable_object_store_count + 1
diff --git a/test/unit/app/managers/test_user_file_sources.py b/test/unit/app/managers/test_user_file_sources.py
index c0362b08bb8c..bb30feed8184 100644
--- a/test/unit/app/managers/test_user_file_sources.py
+++ b/test/unit/app/managers/test_user_file_sources.py
@@ -5,7 +5,16 @@
     Optional,
     Type,
 )
+from unittest import SkipTest
+from uuid import uuid4
 
+from fs.osfs import OSFS
+
+try:
+    from fs.dropboxfs import DropboxFS
+except ImportError:
+    DropboxFS = None
+from requests.exceptions import HTTPError
 from yaml import safe_load
 
 from galaxy.exceptions import (
@@ -13,12 +22,15 @@
     RequestParameterMissingException,
 )
 from galaxy.files import FileSourcesUserContext
+from galaxy.files.sources import dropbox
 from galaxy.files.templates import ConfiguredFileSourceTemplates
 from galaxy.files.templates.examples import get_example
 from galaxy.managers.file_source_instances import (
     CreateInstancePayload,
     FileSourceInstancesManager,
     ModifyInstancePayload,
+    TestUpdateInstancePayload,
+    TestUpgradeInstancePayload,
     UpdateInstancePayload,
     UpdateInstanceSecretPayload,
     UpgradeInstancePayload,
@@ -27,6 +39,12 @@
     UserDefinedFileSourcesImpl,
     UserFileSourceModel,
 )
+from galaxy.model import (
+    get_uuid,
+    UserFileSource,
+)
+from galaxy.schema.schema import OAuth2State
+from galaxy.util import config_templates
 from galaxy.util.config_templates import RawTemplateConfig
 from .base import BaseTestCase
 
@@ -205,6 +223,138 @@ def test_create_posix(self, tmp_path):
         assert file_source.get_scheme() == USER_FILE_SOURCES_SCHEME
         assert file_source.get_uri_root() == uri_root
 
+    def test_oauth2_flow(self, tmp_path, monkeypatch):
+
+        json = {
+            "refresh_token": "my_test_refresh_token",
+        }
+
+        def mock_get_token_from_code_raw(
+            code,
+            client_pair,
+            config,
+            redirect_uri,
+        ):
+            return MockResponse(json)
+
+        monkeypatch.setattr(config_templates, "get_token_from_code_raw", mock_get_token_from_code_raw)
+
+        self._init_dropbox_env(tmp_path, monkeypatch)
+
+        authorize_url = self.manager.template_oauth2(self.trans, "dropbox", 0).authorize_url
+        from urllib.parse import (
+            parse_qs,
+            urlparse,
+        )
+
+        parse_result = urlparse(authorize_url)
+        assert parse_result.hostname == "www.dropbox.com"
+        assert parse_result.path == "/oauth2/authorize"
+        query_params = parse_qs(parse_result.query)
+        assert "state" in query_params
+        state_param = query_params["state"]
+        state = OAuth2State.decode(state_param[0])
+        assert state.route == "file_source_instances/dropbox/0"
+        redirect_url = self.manager.handle_authorization_code(
+            self.trans,
+            "moocow",
+            state,
+        )
+        parse_result = urlparse(redirect_url)
+        query_params = parse_qs(parse_result.query)
+        assert "uuid" in query_params
+        uuid_param = query_params["uuid"]
+        uuid = uuid_param[0]
+
+        user_vault = self.trans.user_vault
+        config_secret_key = UserFileSource.vault_key_from_uuid(uuid, "_oauth2_refresh_token", None)
+        assert user_vault.read_secret(config_secret_key)
+
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="dropbox",
+            template_version=0,
+            variables={},
+            secrets={},
+            uuid=uuid,
+        )
+        user_object = self._create_instance(create_payload)
+        assert get_uuid(user_object.uuid) == get_uuid(uuid)
+
+    def test_oauth2_access_token_injection_during_verify(self, tmp_path, monkeypatch):
+        if DropboxFS is None:
+            raise SkipTest("Optional dropbpox dependency not available")
+        self._init_dropbox_env(tmp_path, monkeypatch)
+
+        uuid = uuid4().hex
+        user_vault = self.trans.user_vault
+        config_secret_key = UserFileSource.vault_key_from_uuid(uuid, "_oauth2_refresh_token", None)
+        user_vault.write_secret(config_secret_key, "test_refresh_token")
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="dropbox",
+            template_version=0,
+            variables={},
+            secrets={},
+            uuid=uuid,
+        )
+        self._create_instance(create_payload)
+        json = {
+            "access_token": "my_test_access_token",
+        }
+
+        def mock_get_token_from_refresh_raw(refresh_token, client_pair, config):
+            return MockResponse(json)
+
+        pyfilesystem_fs_init_kwd = {}
+
+        class MockDropboxFS(OSFS):
+
+            def __init__(self, **kwd):
+                pyfilesystem_fs_init_kwd.update(kwd)
+                root = tmp_path / "foobar"
+                root.mkdir()
+                super().__init__(root)
+
+        monkeypatch.setattr(config_templates, "get_token_from_refresh_raw", mock_get_token_from_refresh_raw)
+        monkeypatch.setattr(dropbox, "DropboxFS", MockDropboxFS)
+        status = self.manager.plugin_status(self.trans, create_payload)
+        assert status.oauth2_access_token_generation
+        assert not status.oauth2_access_token_generation.is_not_ok
+        assert status.connection
+        assert not status.connection.is_not_ok
+        assert pyfilesystem_fs_init_kwd["access_token"] == "my_test_access_token"
+
+    def test_report_oauth2_access_token_generation_failure(self, tmp_path, monkeypatch):
+        self._init_dropbox_env(tmp_path, monkeypatch)
+
+        uuid = uuid4().hex
+        user_vault = self.trans.user_vault
+        config_secret_key = UserFileSource.vault_key_from_uuid(uuid, "_oauth2_refresh_token", None)
+        user_vault.write_secret(config_secret_key, "test_refresh_token")
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="dropbox",
+            template_version=0,
+            variables={},
+            secrets={},
+            uuid=uuid,
+        )
+        self._create_instance(create_payload)
+        excepton_message = "There is an issue with the refresh_token"
+
+        def mock_get_token_from_refresh_raw(refresh_token, client_pair, config):
+            return MockExceptionResponse(excepton_message)
+
+        monkeypatch.setattr(config_templates, "get_token_from_refresh_raw", mock_get_token_from_refresh_raw)
+        status = self.manager.plugin_status(self.trans, create_payload)
+        assert status.oauth2_access_token_generation
+        assert status.oauth2_access_token_generation.is_not_ok
+        assert excepton_message in status.oauth2_access_token_generation.message
+
     def test_io(self, tmp_path):
         self._init_managers(tmp_path)
         user_file_source = self._create_user_file_source()
@@ -532,6 +682,100 @@ def test_status_invalid_settings_configuration_validation(self, tmp_path):
         assert "Input should be a valid boolean" in status.template_settings.message
         assert status.connection is None
 
+    def test_status_existing_valid(self, tmp_path):
+        self.init_user_in_database()
+        self._init_managers(tmp_path)
+        (tmp_path / self.trans.user.username).mkdir()
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="home_directory",
+            template_version=0,
+            variables={},
+            secrets={},
+        )
+        user_file_source = self._create_instance(create_payload)
+        status = self.manager.plugin_status_for_instance(self.trans, user_file_source.uuid)
+        assert status.connection
+        assert not status.connection.is_not_ok
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert not status.template_settings.is_not_ok
+
+    def test_status_update_valid(self, tmp_path):
+        self._init_managers(tmp_path, config_dict=simple_variable_template(tmp_path))
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="simple_variable",
+            template_version=0,
+            variables={"var1": "originalvarval"},
+            secrets={},
+        )
+        user_file_source = self._create_instance(create_payload)
+
+        update = TestUpdateInstancePayload(
+            variables={
+                "var1": "newval",
+            }
+        )
+
+        status = self.manager.test_modify_instance(self.trans, user_file_source.uuid, update)
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert not status.template_settings.is_not_ok
+        assert status.connection
+        assert status.connection.is_not_ok
+
+    def test_status_upgrade_valid(self, tmp_path):
+        user_file_source = self._init_upgrade_test_case(tmp_path)
+        assert "sec1" in user_file_source.secrets
+        assert "sec2" not in user_file_source.secrets
+        self._assert_secret_is(user_file_source, "sec1", "moocow")
+        self._assert_secret_absent(user_file_source, "foobarxyz")
+        self._assert_secret_absent(user_file_source, "sec2")
+        upgrade_to_1 = TestUpgradeInstancePayload(
+            template_version=1,
+            secrets={
+                "sec1": "moocow",
+                "sec2": "aftersec2",
+            },
+            variables={},
+        )
+        status = self.manager.test_modify_instance(self.trans, user_file_source.uuid, upgrade_to_1)
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert not status.template_settings.is_not_ok
+        assert status.connection
+        assert status.connection.is_not_ok
+
+    def test_status_upgrade_invalid(self, tmp_path):
+        user_file_source = self._init_invalid_upgrade_test_case(tmp_path)
+        upgrade_to_1 = TestUpgradeInstancePayload(
+            template_version=1,
+            secrets={},
+            variables={},
+        )
+        status = self.manager.test_modify_instance(self.trans, user_file_source.uuid, upgrade_to_1)
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert status.template_settings.is_not_ok
+        assert "Input should be a valid boolean" in status.template_settings.message
+        assert status.connection is None
+
+    def _init_invalid_upgrade_test_case(self, tmp_path) -> UserFileSourceModel:
+        version_0 = home_directory_template(tmp_path)
+        version_0["version"] = 0
+        version_1 = invalid_home_directory_template_type_error(tmp_path)
+        version_1["version"] = 1
+        version_1["id"] = version_0["id"]
+        config_dict = [
+            version_0,
+            version_1,
+        ]
+        self._init_managers(tmp_path, config_dict=config_dict)
+        return self._create_user_file_source()
+
     def _init_upgrade_test_case(self, tmp_path) -> UserFileSourceModel:
         example_yaml_str = UPGRADE_EXAMPLE
         example_yaml_str.replace("/data", str(tmp_path))
@@ -545,6 +789,13 @@ def _init_and_create_simple(self, tmp_path) -> UserFileSourceModel:
         user_file_source = self._create_user_file_source()
         return user_file_source
 
+    def _init_dropbox_env(self, tmp_path, monkeypatch):
+        self.init_user_in_database()
+        self._init_managers(tmp_path, safe_load(get_example("production_dropbox.yml")))
+
+        monkeypatch.setenv("GALAXY_DROPBOX_APP_CLIENT_ID", "mock_client_id")
+        monkeypatch.setenv("GALAXY_DROPBOX_APP_CLIENT_SECRET", "mock_client_secret")
+
     def _create_user_file_source(self, template_id="home_directory") -> UserFileSourceModel:
         create_payload = CreateInstancePayload(
             name=SIMPLE_FILE_SOURCE_NAME,
@@ -608,3 +859,28 @@ def _init_managers(self, tmp_path, config_dict=None):
         manager = self.app[FileSourceInstancesManager]
         self.file_sources = file_sources
         self.manager = manager
+
+
+class MockResponse:
+    _error_checked = False
+
+    def __init__(self, json):
+        self._json = json
+
+    def raise_for_status(self):
+        self._error_checked = True
+
+    def json(self):
+        return self._json
+
+    def assert_error_checked(self):
+        assert self._error_checked
+
+
+class MockExceptionResponse:
+
+    def __init__(self, exception_msg: str):
+        self._exception_msg = exception_msg
+
+    def raise_for_status(self):
+        raise HTTPError(self._exception_msg, self._exception_msg, response=None)  # type: ignore[arg-type]
diff --git a/test/unit/app/managers/test_user_object_stores.py b/test/unit/app/managers/test_user_object_stores.py
index 96d11ee7ffc4..1ad20cc9af91 100644
--- a/test/unit/app/managers/test_user_object_stores.py
+++ b/test/unit/app/managers/test_user_object_stores.py
@@ -14,6 +14,8 @@
     CreateInstancePayload,
     ModifyInstancePayload,
     ObjectStoreInstancesManager,
+    TestUpdateInstancePayload,
+    TestUpgradeInstancePayload,
     UpdateInstancePayload,
     UpdateInstanceSecretPayload,
     UpgradeInstancePayload,
@@ -146,9 +148,9 @@ def test_simple_update(self, tmp_path):
         assert response.variables
         assert response.variables["var1"] == "newval"
 
-        user_file_source_showed = self.manager.show(self.trans, user_object_store.uuid)
-        assert user_file_source_showed.variables
-        assert user_file_source_showed.variables["var1"] == "newval"
+        user_object_store_showed = self.manager.show(self.trans, user_object_store.uuid)
+        assert user_object_store_showed.variables
+        assert user_object_store_showed.variables["var1"] == "newval"
 
     def test_update_errors_on_extra_variables(self, tmp_path):
         self._init_managers(tmp_path, config_dict=simple_variable_template(tmp_path))
@@ -328,6 +330,25 @@ def test_status_valid(self, tmp_path):
         assert status.template_settings
         assert not status.template_settings.is_not_ok
 
+    def test_status_existing_valid(self, tmp_path):
+        self.init_user_in_database()
+        self._init_managers(tmp_path, simple_vault_template(tmp_path))
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="simple_vault",
+            template_version=0,
+            variables={},
+            secrets={"sec1": "foosec"},
+        )
+        user_object_store = self._create_instance(create_payload)
+        status = self.manager.plugin_status_for_instance(self.trans, user_object_store.uuid)
+        assert status.connection
+        assert not status.connection.is_not_ok
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert not status.template_settings.is_not_ok
+
     def test_status_invalid_settings_undefined_variable(self, tmp_path):
         self.init_user_in_database()
         self._init_managers(tmp_path, config_dict=simple_vault_template_with_undefined_jinja_problem(tmp_path))
@@ -348,6 +369,68 @@ def test_status_invalid_settings_undefined_variable(self, tmp_path):
         )
         assert status.connection is None
 
+    def test_status_update_valid(self, tmp_path):
+        self._init_managers(tmp_path, config_dict=simple_variable_template(tmp_path))
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="simple_variable",
+            template_version=0,
+            variables={"var1": "originalvarval"},
+            secrets={},
+        )
+        user_object_store = self._create_instance(create_payload)
+
+        update = TestUpdateInstancePayload(
+            variables={
+                "var1": "newval",
+            }
+        )
+        status = self.manager.test_modify_instance(self.trans, user_object_store.uuid, update)
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert not status.template_settings.is_not_ok
+        assert status.connection
+        assert not status.connection.is_not_ok
+
+    def test_status_upgrade_valid(self, tmp_path):
+        user_object_store = self._init_upgrade_test_case(tmp_path)
+        assert "sec1" in user_object_store.secrets
+        assert "sec2" not in user_object_store.secrets
+        self._assert_secret_is(user_object_store, "sec1", "moocow")
+        self._assert_secret_absent(user_object_store, "foobarxyz")
+        self._assert_secret_absent(user_object_store, "sec2")
+        upgrade_to_1 = TestUpgradeInstancePayload(
+            template_version=1,
+            secrets={
+                "sec1": "moocow",
+                "sec2": "aftersec2",
+            },
+            variables={},
+        )
+        status = self.manager.test_modify_instance(self.trans, user_object_store.uuid, upgrade_to_1)
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert not status.template_settings.is_not_ok
+        assert status.connection
+        assert not status.connection.is_not_ok
+
+    def test_status_upgrade_invalid(self, tmp_path):
+        user_object_store = self._init_invalid_upgrade_test_case(tmp_path)
+        upgrade_to_1 = TestUpgradeInstancePayload(
+            template_version=1,
+            secrets={},
+            variables={},
+        )
+        status = self.manager.test_modify_instance(self.trans, user_object_store.uuid, upgrade_to_1)
+        assert not status.template_definition.is_not_ok
+        assert status.template_settings
+        assert status.template_settings.is_not_ok
+        assert (
+            "Problem with template definition causing invalid settings resolution" in status.template_settings.message
+        )
+        assert status.connection is None
+
     def _init_upgrade_test_case(self, tmp_path) -> UserConcreteObjectStoreModel:
         example_yaml_str = UPGRADE_EXAMPLE
         example_yaml_str.replace("/data", str(tmp_path))
@@ -356,6 +439,28 @@ def _init_upgrade_test_case(self, tmp_path) -> UserConcreteObjectStoreModel:
         user_object_store = self._create_instance(UPGRADE_INITIAL_PAYLOAD)
         return user_object_store
 
+    def _init_invalid_upgrade_test_case(self, tmp_path) -> UserConcreteObjectStoreModel:
+        version_0 = simple_vault_template(tmp_path)
+        version_0["version"] = 0
+        version_1 = simple_vault_template_with_undefined_jinja_problem(tmp_path)
+        version_1["version"] = 1
+        version_1["id"] = version_0["id"]
+        config_dict = [
+            version_0,
+            version_1,
+        ]
+        self._init_managers(tmp_path, config_dict=config_dict)
+        create_payload = CreateInstancePayload(
+            name=SIMPLE_FILE_SOURCE_NAME,
+            description=SIMPLE_FILE_SOURCE_DESCRIPTION,
+            template_id="simple_vault",
+            template_version=0,
+            variables={},
+            secrets={"sec1": "foosec"},
+        )
+        user_object_store = self._create_instance(create_payload)
+        return user_object_store
+
     def _read_secret(self, user_object_store: UserConcreteObjectStoreModel, secret_name: str) -> str:
         user_vault = self.trans.user_vault
         config_secret_key = f"object_store_config/{user_object_store.uuid}/{secret_name}"
diff --git a/test/unit/files/test_template_models.py b/test/unit/files/test_template_models.py
index 9d11069fc01d..c23b6bcf943b 100644
--- a/test/unit/files/test_template_models.py
+++ b/test/unit/files/test_template_models.py
@@ -295,11 +295,14 @@ def test_examples_parse():
     _assert_example_parses("production_aws_private_bucket.yml")
     _assert_example_parses("production_aws_public_bucket.yml")
     _assert_example_parses("production_s3fs.yml")
+    _assert_example_parses("production_dropbox.yml")
     _assert_example_parses("s3fs_by_host_and_port.yml")
     _assert_example_parses("templating_override.yml")
     _assert_example_parses("admin_secrets.yml")
     _assert_example_parses("admin_secrets_with_defaults.yml")
     _assert_example_parses("testing_multi_version_with_secrets.yml")
+    _assert_example_parses("dropbox_client_secrets_in_vault.yml")
+    _assert_example_parses("dropbox_client_secrets_explicit.yml")
 
 
 def _assert_example_parses(filename: str):
diff --git a/test/unit/objectstore/test_template_models.py b/test/unit/objectstore/test_template_models.py
index 81f0bce8068f..9513a6e807dc 100644
--- a/test/unit/objectstore/test_template_models.py
+++ b/test/unit/objectstore/test_template_models.py
@@ -1,5 +1,7 @@
 import os
+import sys
 
+import pytest
 from yaml import safe_load
 
 from galaxy.objectstore.templates.examples import get_example
@@ -14,6 +16,10 @@
 )
 from galaxy.util.config_templates import VariablesDict
 
+if sys.version_info < (3, 8):  # noqa: UP036
+    pytest.skip(reason="Pydantic tool parameter models require python3.8 or higher", allow_module_level=True)
+
+
 LIBRARY_1 = """
 - id: amazon_bucket
   name: Amazon Bucket
diff --git a/test/unit/schema/test_schema.py b/test/unit/schema/test_schema.py
index 21b37096d131..07d2cb3b3d51 100644
--- a/test/unit/schema/test_schema.py
+++ b/test/unit/schema/test_schema.py
@@ -5,6 +5,7 @@
 
 from galaxy.schema.schema import (
     DatasetStateField,
+    OAuth2State,
     TAG_ITEM_PATTERN,
 )
 from galaxy.schema.tasks import (
@@ -78,3 +79,10 @@ def test_invalid(self):
         ]
         for t in tag_strings:
             assert not re.match(TAG_ITEM_PATTERN, t)
+
+
+def test_oauth_state():
+    state_in = OAuth2State(route="/file_sources/dropbox", nonce="abcde56")
+    state_out = OAuth2State.decode(state_in.encode())
+    assert state_out.route == "/file_sources/dropbox"
+    assert state_out.nonce == "abcde56"
diff --git a/test/unit/util/test_config_template_validation.py b/test/unit/util/test_config_template_validation.py
index dd388068e9ee..cde93f5063ff 100644
--- a/test/unit/util/test_config_template_validation.py
+++ b/test/unit/util/test_config_template_validation.py
@@ -27,6 +27,7 @@
 
 class TestTemplate(StrictModel):
     id: str
+    type: str = "test"
     version: int
     variables: Optional[List[TemplateVariable]]
     secrets: Optional[List[TemplateSecret]]
